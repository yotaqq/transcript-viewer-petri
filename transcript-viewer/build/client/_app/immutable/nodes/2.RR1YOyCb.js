var Kn=Object.defineProperty;var cn=e=>{throw TypeError(e)};var Yn=(e,n,t)=>n in e?Kn(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t;var Ke=(e,n,t)=>Yn(e,typeof n!="symbol"?n+"":n,t),Xn=(e,n,t)=>n.has(e)||cn("Cannot "+t);var At=(e,n,t)=>(Xn(e,n,"read from private field"),t?t.call(e):n.get(e)),dn=(e,n,t)=>n.has(e)?cn("Cannot add the same private member more than once"):n instanceof WeakSet?n.add(e):n.set(e,t);import"../chunks/CWj6FrbW.js";import{o as Jn}from"../chunks/C-E9t2Sf.js";import{N as Qn,a_ as Zn,b6 as $n,h as Ye,a as gn,d as Ot,b7 as er,b as tr,E as nr,c as rr,b8 as ir,as as or,b9 as sr,a4 as lr,a1 as ar,a8 as fn,a3 as hn,af as ur,p as cr,ab as dr,ao as gr,u as W,m as u,aj as fr,e as Ue,w as ge,v as de,i as S,j as je,x as at,t as K,J as O,H as _e,aK as Be,z as hr,o as nt,f as P,s as C,k as _,r as m,A as Ge,ba as rn,bb as pr,bc as vr,bd as mr,g as _r,$ as wr}from"../chunks/DDSnUQRm.js";import{s as H}from"../chunks/Cw2wGIIF.js";import{i as L}from"../chunks/Cufvb6Zw.js";import{e as Ee,i as ke}from"../chunks/ZS3-Rmiz.js";import{r as Pt,b as pn,s as _t,c as dt,a as tt}from"../chunks/BfFtub1s.js";import{a as Kt,s as Rn}from"../chunks/DjMDWNJ7.js";import{n as yr,b as Sr,a as xr}from"../chunks/CMjXfWsx.js";import{s as Je}from"../chunks/qTkxire8.js";import{s as Cr,p as Fe,b as bn}from"../chunks/BHXEmAAv.js";import{d as Rr,w as Fn}from"../chunks/BhP1P8qK.js";import{c as br}from"../chunks/BHzfkhi9.js";import{e as Fr,c as Er}from"../chunks/CSdmp8B5.js";import{a as vn}from"../chunks/B-nmsLlT.js";import"../chunks/COV05J5X.js";import{i as Mr}from"../chunks/CbNCDuoM.js";const Ir=[];function ot(e,n=!1){return It(e,new Map,"",Ir)}function It(e,n,t,r,i=null){if(typeof e=="object"&&e!==null){var o=n.get(e);if(o!==void 0)return o;if(e instanceof Map)return new Map(e);if(e instanceof Set)return new Set(e);if(Qn(e)){var s=Array(e.length);n.set(e,s),i!==null&&n.set(i,s);for(var a=0;a<e.length;a+=1){var c=e[a];a in e&&(s[a]=It(c,n,t,r))}return s}if(Zn(e)===$n){s={},n.set(e,s),i!==null&&n.set(i,s);for(var l in e)s[l]=It(e[l],n,t,r);return s}if(e instanceof Date)return structuredClone(e);if(typeof e.toJSON=="function")return It(e.toJSON(),n,t,r,e)}if(e instanceof EventTarget)return e;try{return structuredClone(e)}catch{return e}}function gt(e,n,t,r,i,o){let s=Ye;Ye&&gn();var a,c,l=null;Ye&&Ot.nodeType===er&&(l=Ot,gn());var f=Ye?Ot:e,g;tr(()=>{const d=n()||null;var p=d==="svg"?ir:null;d!==a&&(g&&(d===null?cr(g,()=>{g=null,c=null}):d===c?dr(g):gr(g)),d&&d!==c&&(g=rr(()=>{if(l=Ye?l:p?document.createElementNS(p,d):document.createElement(d),or(l,l),r){Ye&&sr(d)&&l.append(document.createComment(""));var v=Ye?lr(l):l.appendChild(ar());Ye&&(v===null?fn(!1):hn(v)),r(l,v)}ur.nodes_end=l,f.before(l)})),a=d,a&&(c=a))},nr),s&&(fn(!0),hn(f))}function Pr(e){var n=fr(0);return function(){return arguments.length===1?(W(n,u(n)+1),arguments[0]):(u(n),e())}}function Xe(e,n){return typeof e=="function"?e(n):e}function De(e,n){return t=>{n.setState(r=>({...r,[e]:Xe(t,r[e])}))}}function kt(e){return e instanceof Function}function kr(e){return Array.isArray(e)&&e.every(n=>typeof n=="number")}function Dr(e,n){const t=[],r=i=>{i.forEach(o=>{t.push(o);const s=n(o);s!=null&&s.length&&r(s)})};return r(e),t}function D(e,n,t){let r=[],i;return o=>{var s;let a;t.key&&t.debug&&(a=Date.now());const c=e(o);if(!(c.length!==r.length||c.some((g,d)=>r[d]!==g)))return i;r=c;let f;if(t.key&&t.debug&&(f=Date.now()),i=n(...c),(s=t==null?void 0:t.onChange)==null||s.call(t,i),t.key&&t.debug&&t!=null&&t.debug()){const g=Math.round((Date.now()-a)*100)/100,d=Math.round((Date.now()-f)*100)/100,p=d/16,v=(h,w)=>{for(h=String(h);h.length<w;)h=" "+h;return h};console.info(`%câ± ${v(d,5)} /${v(g,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*p,120))}deg 100% 31%);`,t==null?void 0:t.key)}return i}}function z(e,n,t,r){return{debug:()=>(e==null?void 0:e.debugAll)??e[n],key:!1,onChange:r}}function zr(e,n,t,r){const i=()=>o.getValue()??e.options.renderFallbackValue,o={id:`${n.id}_${t.id}`,row:n,column:t,getValue:()=>n.getValue(r),renderValue:i,getContext:D(()=>[e,t,n,o],(s,a,c,l)=>({table:s,column:a,row:c,cell:l,getValue:l.getValue,renderValue:l.renderValue}),z(e.options,"debugCells"))};return e._features.forEach(s=>{var a;(a=s._createCell)==null||a.call(s,o,t,n,e)},{}),o}function Vr(e,n,t,r){var i;const s={...e._getDefaultColumnDef(),...n},a=s.accessorKey;let c=s.id??(a?a.replace(".","_"):void 0)??(typeof s.header=="string"?s.header:void 0),l;if(s.accessorFn?l=s.accessorFn:a&&(a.includes(".")?l=g=>{let d=g;for(const p of a.split("."))d=d==null?void 0:d[p];return d}:l=g=>g[s.accessorKey]),!c)throw new Error;let f={id:`${String(c)}`,accessorFn:l,parent:r,depth:t,columnDef:s,columns:[],getFlatColumns:D(()=>[!0],()=>{var g;return[f,...(g=f.columns)==null?void 0:g.flatMap(d=>d.getFlatColumns())]},z(e.options,"debugColumns")),getLeafColumns:D(()=>[e._getOrderColumnsFn()],g=>{var d;if((d=f.columns)!=null&&d.length){let p=f.columns.flatMap(v=>v.getLeafColumns());return g(p)}return[f]},z(e.options,"debugColumns"))};for(const g of e._features)(i=g._createColumn)==null||i.call(g,f,e);return f}const xe="debugHeaders";function mn(e,n,t){let i={id:t.id??n.id,column:n,index:t.index,isPlaceholder:!!t.isPlaceholder,placeholderId:t.placeholderId,depth:t.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const o=[],s=a=>{a.subHeaders&&a.subHeaders.length&&a.subHeaders.map(s),o.push(a)};return s(i),o},getContext:()=>({table:e,header:i,column:n})};return e._features.forEach(o=>{var s;(s=o._createHeader)==null||s.call(o,i,e)}),i}const Tr={_createTable:e=>{e.getHeaderGroups=D(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(n,t,r,i)=>{const o=(r==null?void 0:r.map(l=>t.find(f=>f.id===l)).filter(Boolean))??[],s=(i==null?void 0:i.map(l=>t.find(f=>f.id===l)).filter(Boolean))??[],a=t.filter(l=>!(r!=null&&r.includes(l.id))&&!(i!=null&&i.includes(l.id)));return Rt(n,[...o,...a,...s],e)},z(e.options,xe)),e.getCenterHeaderGroups=D(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(n,t,r,i)=>(t=t.filter(o=>!(r!=null&&r.includes(o.id))&&!(i!=null&&i.includes(o.id))),Rt(n,t,e,"center")),z(e.options,xe)),e.getLeftHeaderGroups=D(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left],(n,t,r)=>{const i=(r==null?void 0:r.map(o=>t.find(s=>s.id===o)).filter(Boolean))??[];return Rt(n,i,e,"left")},z(e.options,xe)),e.getRightHeaderGroups=D(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.right],(n,t,r)=>{const i=(r==null?void 0:r.map(o=>t.find(s=>s.id===o)).filter(Boolean))??[];return Rt(n,i,e,"right")},z(e.options,xe)),e.getFooterGroups=D(()=>[e.getHeaderGroups()],n=>[...n].reverse(),z(e.options,xe)),e.getLeftFooterGroups=D(()=>[e.getLeftHeaderGroups()],n=>[...n].reverse(),z(e.options,xe)),e.getCenterFooterGroups=D(()=>[e.getCenterHeaderGroups()],n=>[...n].reverse(),z(e.options,xe)),e.getRightFooterGroups=D(()=>[e.getRightHeaderGroups()],n=>[...n].reverse(),z(e.options,xe)),e.getFlatHeaders=D(()=>[e.getHeaderGroups()],n=>n.map(t=>t.headers).flat(),z(e.options,xe)),e.getLeftFlatHeaders=D(()=>[e.getLeftHeaderGroups()],n=>n.map(t=>t.headers).flat(),z(e.options,xe)),e.getCenterFlatHeaders=D(()=>[e.getCenterHeaderGroups()],n=>n.map(t=>t.headers).flat(),z(e.options,xe)),e.getRightFlatHeaders=D(()=>[e.getRightHeaderGroups()],n=>n.map(t=>t.headers).flat(),z(e.options,xe)),e.getCenterLeafHeaders=D(()=>[e.getCenterFlatHeaders()],n=>n.filter(t=>{var r;return!((r=t.subHeaders)!=null&&r.length)}),z(e.options,xe)),e.getLeftLeafHeaders=D(()=>[e.getLeftFlatHeaders()],n=>n.filter(t=>{var r;return!((r=t.subHeaders)!=null&&r.length)}),z(e.options,xe)),e.getRightLeafHeaders=D(()=>[e.getRightFlatHeaders()],n=>n.filter(t=>{var r;return!((r=t.subHeaders)!=null&&r.length)}),z(e.options,xe)),e.getLeafHeaders=D(()=>[e.getLeftHeaderGroups(),e.getCenterHeaderGroups(),e.getRightHeaderGroups()],(n,t,r)=>{var i,o,s;return[...((i=n[0])==null?void 0:i.headers)??[],...((o=t[0])==null?void 0:o.headers)??[],...((s=r[0])==null?void 0:s.headers)??[]].map(a=>a.getLeafHeaders()).flat()},z(e.options,xe))}};function Rt(e,n,t,r){var i;let o=0;const s=(g,d=1)=>{o=Math.max(o,d),g.filter(p=>p.getIsVisible()).forEach(p=>{var v;(v=p.columns)!=null&&v.length&&s(p.columns,d+1)},0)};s(e);let a=[];const c=(g,d)=>{const p={depth:d,id:[r,`${d}`].filter(Boolean).join("_"),headers:[]},v=[];g.forEach(h=>{const w=[...v].reverse()[0],F=h.column.depth===p.depth;let x,G=!1;if(F&&h.column.parent?x=h.column.parent:(x=h.column,G=!0),w&&(w==null?void 0:w.column)===x)w.subHeaders.push(h);else{const k=mn(t,x,{id:[r,d,x.id,h==null?void 0:h.id].filter(Boolean).join("_"),isPlaceholder:G,placeholderId:G?`${v.filter(E=>E.column===x).length}`:void 0,depth:d,index:v.length});k.subHeaders.push(h),v.push(k)}p.headers.push(h),h.headerGroup=p}),a.push(p),d>0&&c(v,d-1)},l=n.map((g,d)=>mn(t,g,{depth:o,index:d}));c(l,o-1),a.reverse();const f=g=>g.filter(p=>p.column.getIsVisible()).map(p=>{let v=0,h=0,w=[0];p.subHeaders&&p.subHeaders.length?(w=[],f(p.subHeaders).forEach(({colSpan:x,rowSpan:G})=>{v+=x,w.push(G)})):v=1;const F=Math.min(...w);return h=h+F,p.colSpan=v,p.rowSpan=h,{colSpan:v,rowSpan:h}});return f(((i=a[0])==null?void 0:i.headers)??[]),a}const on=(e,n,t,r,i,o,s)=>{var a;let c={id:n,index:r,original:t,depth:i,parentId:s,_valuesCache:{},_uniqueValuesCache:{},getValue:l=>{if(c._valuesCache.hasOwnProperty(l))return c._valuesCache[l];const f=e.getColumn(l);if(f!=null&&f.accessorFn)return c._valuesCache[l]=f.accessorFn(c.original,r),c._valuesCache[l]},getUniqueValues:l=>{if(c._uniqueValuesCache.hasOwnProperty(l))return c._uniqueValuesCache[l];const f=e.getColumn(l);if(f!=null&&f.accessorFn)return f.columnDef.getUniqueValues?(c._uniqueValuesCache[l]=f.columnDef.getUniqueValues(c.original,r),c._uniqueValuesCache[l]):(c._uniqueValuesCache[l]=[c.getValue(l)],c._uniqueValuesCache[l])},renderValue:l=>c.getValue(l)??e.options.renderFallbackValue,subRows:[],getLeafRows:()=>Dr(c.subRows,l=>l.subRows),getParentRow:()=>c.parentId?e.getRow(c.parentId,!0):void 0,getParentRows:()=>{let l=[],f=c;for(;;){const g=f.getParentRow();if(!g)break;l.push(g),f=g}return l.reverse()},getAllCells:D(()=>[e.getAllLeafColumns()],l=>l.map(f=>zr(e,c,f,f.id)),z(e.options,"debugRows")),_getAllCellsByColumnId:D(()=>[c.getAllCells()],l=>l.reduce((f,g)=>(f[g.column.id]=g,f),{}),z(e.options,"debugRows"))};for(let l=0;l<e._features.length;l++){const f=e._features[l];(a=f==null?void 0:f._createRow)==null||a.call(f,c,e)}return c},Ar={_createColumn:(e,n)=>{e._getFacetedRowModel=n.options.getFacetedRowModel&&n.options.getFacetedRowModel(n,e.id),e.getFacetedRowModel=()=>e._getFacetedRowModel?e._getFacetedRowModel():n.getPreFilteredRowModel(),e._getFacetedUniqueValues=n.options.getFacetedUniqueValues&&n.options.getFacetedUniqueValues(n,e.id),e.getFacetedUniqueValues=()=>e._getFacetedUniqueValues?e._getFacetedUniqueValues():new Map,e._getFacetedMinMaxValues=n.options.getFacetedMinMaxValues&&n.options.getFacetedMinMaxValues(n,e.id),e.getFacetedMinMaxValues=()=>{if(e._getFacetedMinMaxValues)return e._getFacetedMinMaxValues()}}},En=(e,n,t)=>{var r,i,o;const s=t.toLowerCase();return!!((o=(i=(r=e.getValue(n))==null?void 0:r.toString())==null?void 0:i.toLowerCase())!=null&&o.includes(s))};En.autoRemove=e=>Oe(e);const Mn=(e,n,t)=>{var r,i;return!!((i=(r=e.getValue(n))==null?void 0:r.toString())!=null&&i.includes(t))};Mn.autoRemove=e=>Oe(e);const In=(e,n,t)=>{var r,i;return((i=(r=e.getValue(n))==null?void 0:r.toString())==null?void 0:i.toLowerCase())===(t==null?void 0:t.toLowerCase())};In.autoRemove=e=>Oe(e);const Pn=(e,n,t)=>{var r;return(r=e.getValue(n))==null?void 0:r.includes(t)};Pn.autoRemove=e=>Oe(e)||!(e!=null&&e.length);const kn=(e,n,t)=>!t.some(r=>{var i;return!((i=e.getValue(n))!=null&&i.includes(r))});kn.autoRemove=e=>Oe(e)||!(e!=null&&e.length);const Dn=(e,n,t)=>t.some(r=>{var i;return(i=e.getValue(n))==null?void 0:i.includes(r)});Dn.autoRemove=e=>Oe(e)||!(e!=null&&e.length);const zn=(e,n,t)=>e.getValue(n)===t;zn.autoRemove=e=>Oe(e);const Vn=(e,n,t)=>e.getValue(n)==t;Vn.autoRemove=e=>Oe(e);const sn=(e,n,t)=>{let[r,i]=t;const o=e.getValue(n);return o>=r&&o<=i};sn.resolveFilterValue=e=>{let[n,t]=e,r=typeof n!="number"?parseFloat(n):n,i=typeof t!="number"?parseFloat(t):t,o=n===null||Number.isNaN(r)?-1/0:r,s=t===null||Number.isNaN(i)?1/0:i;if(o>s){const a=o;o=s,s=a}return[o,s]};sn.autoRemove=e=>Oe(e)||Oe(e[0])&&Oe(e[1]);const He={includesString:En,includesStringSensitive:Mn,equalsString:In,arrIncludes:Pn,arrIncludesAll:kn,arrIncludesSome:Dn,equals:zn,weakEquals:Vn,inNumberRange:sn};function Oe(e){return e==null||e===""}const Or={_getDefaultColumnDef:()=>({filterFn:"auto"}),_getInitialState:e=>({columnFilters:[],...e}),_getDefaultOptions:e=>({onColumnFiltersChange:De("columnFilters",e),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),_createColumn:(e,n)=>{e.getAutoFilterFn=()=>{const t=n.getCoreRowModel().flatRows[0],r=t==null?void 0:t.getValue(e.id);return typeof r=="string"?He.includesString:typeof r=="number"?He.inNumberRange:typeof r=="boolean"||r!==null&&typeof r=="object"?He.equals:Array.isArray(r)?He.arrIncludes:He.weakEquals},e.getFilterFn=()=>{var t;return kt(e.columnDef.filterFn)?e.columnDef.filterFn:e.columnDef.filterFn==="auto"?e.getAutoFilterFn():((t=n.options.filterFns)==null?void 0:t[e.columnDef.filterFn])??He[e.columnDef.filterFn]},e.getCanFilter=()=>(e.columnDef.enableColumnFilter??!0)&&(n.options.enableColumnFilters??!0)&&(n.options.enableFilters??!0)&&!!e.accessorFn,e.getIsFiltered=()=>e.getFilterIndex()>-1,e.getFilterValue=()=>{var t,r;return(r=(t=n.getState().columnFilters)==null?void 0:t.find(i=>i.id===e.id))==null?void 0:r.value},e.getFilterIndex=()=>{var t;return((t=n.getState().columnFilters)==null?void 0:t.findIndex(r=>r.id===e.id))??-1},e.setFilterValue=t=>{n.setColumnFilters(r=>{const i=e.getFilterFn(),o=r==null?void 0:r.find(c=>c.id===e.id),s=Xe(t,o?o.value:void 0);if(_n(i,s,e))return(r==null?void 0:r.filter(c=>c.id!==e.id))??[];const a={id:e.id,value:s};return o?(r==null?void 0:r.map(c=>c.id===e.id?a:c))??[]:r!=null&&r.length?[...r,a]:[a]})}},_createRow:(e,n)=>{e.columnFilters={},e.columnFiltersMeta={}},_createTable:e=>{e.setColumnFilters=n=>{var t,r;const i=e.getAllLeafColumns(),o=s=>{var a;return(a=Xe(n,s))==null?void 0:a.filter(c=>{const l=i.find(f=>f.id===c.id);if(l){const f=l.getFilterFn();if(_n(f,c.value,l))return!1}return!0})};(r=(t=e.options).onColumnFiltersChange)==null||r.call(t,o)},e.resetColumnFilters=n=>{var t;e.setColumnFilters(n?[]:((t=e.initialState)==null?void 0:t.columnFilters)??[])},e.getPreFilteredRowModel=()=>e.getCoreRowModel(),e.getFilteredRowModel=()=>(!e._getFilteredRowModel&&e.options.getFilteredRowModel&&(e._getFilteredRowModel=e.options.getFilteredRowModel(e)),e.options.manualFiltering||!e._getFilteredRowModel?e.getPreFilteredRowModel():e._getFilteredRowModel())}};function _n(e,n,t){return(e&&e.autoRemove?e.autoRemove(n,t):!1)||typeof n>"u"||typeof n=="string"&&!n}const Lr=(e,n,t)=>t.reduce((r,i)=>{const o=i.getValue(e);return r+(typeof o=="number"?o:0)},0),Gr=(e,n,t)=>{let r;return t.forEach(i=>{const o=i.getValue(e);o!=null&&(r>o||r===void 0&&o>=o)&&(r=o)}),r},Br=(e,n,t)=>{let r;return t.forEach(i=>{const o=i.getValue(e);o!=null&&(r<o||r===void 0&&o>=o)&&(r=o)}),r},Hr=(e,n,t)=>{let r,i;return t.forEach(o=>{const s=o.getValue(e);s!=null&&(r===void 0?s>=s&&(r=i=s):(r>s&&(r=s),i<s&&(i=s)))}),[r,i]},Nr=(e,n)=>{let t=0,r=0;if(n.forEach(i=>{let o=i.getValue(e);o!=null&&(o=+o)>=o&&(++t,r+=o)}),t)return r/t},Ur=(e,n)=>{if(!n.length)return;const t=n.map(o=>o.getValue(e));if(!kr(t))return;if(t.length===1)return t[0];const r=Math.floor(t.length/2),i=t.sort((o,s)=>o-s);return t.length%2!==0?i[r]:(i[r-1]+i[r])/2},jr=(e,n)=>Array.from(new Set(n.map(t=>t.getValue(e))).values()),Wr=(e,n)=>new Set(n.map(t=>t.getValue(e))).size,qr=(e,n)=>n.length,Lt={sum:Lr,min:Gr,max:Br,extent:Hr,mean:Nr,median:Ur,unique:jr,uniqueCount:Wr,count:qr},Kr={_getDefaultColumnDef:()=>({aggregatedCell:e=>{var n,t;return((t=(n=e.getValue())==null?void 0:n.toString)==null?void 0:t.call(n))??null},aggregationFn:"auto"}),_getInitialState:e=>({grouping:[],...e}),_getDefaultOptions:e=>({onGroupingChange:De("grouping",e),groupedColumnMode:"reorder"}),_createColumn:(e,n)=>{e.toggleGrouping=()=>{n.setGrouping(t=>t!=null&&t.includes(e.id)?t.filter(r=>r!==e.id):[...t??[],e.id])},e.getCanGroup=()=>(e.columnDef.enableGrouping??!0)&&(n.options.enableGrouping??!0)&&(!!e.accessorFn||!!e.columnDef.getGroupingValue),e.getIsGrouped=()=>{var t;return(t=n.getState().grouping)==null?void 0:t.includes(e.id)},e.getGroupedIndex=()=>{var t;return(t=n.getState().grouping)==null?void 0:t.indexOf(e.id)},e.getToggleGroupingHandler=()=>{const t=e.getCanGroup();return()=>{t&&e.toggleGrouping()}},e.getAutoAggregationFn=()=>{const t=n.getCoreRowModel().flatRows[0],r=t==null?void 0:t.getValue(e.id);if(typeof r=="number")return Lt.sum;if(Object.prototype.toString.call(r)==="[object Date]")return Lt.extent},e.getAggregationFn=()=>{var t;if(!e)throw new Error;return kt(e.columnDef.aggregationFn)?e.columnDef.aggregationFn:e.columnDef.aggregationFn==="auto"?e.getAutoAggregationFn():((t=n.options.aggregationFns)==null?void 0:t[e.columnDef.aggregationFn])??Lt[e.columnDef.aggregationFn]}},_createTable:e=>{e.setGrouping=n=>{var t,r;return(r=(t=e.options).onGroupingChange)==null?void 0:r.call(t,n)},e.resetGrouping=n=>{var t;e.setGrouping(n?[]:((t=e.initialState)==null?void 0:t.grouping)??[])},e.getPreGroupedRowModel=()=>e.getFilteredRowModel(),e.getGroupedRowModel=()=>(!e._getGroupedRowModel&&e.options.getGroupedRowModel&&(e._getGroupedRowModel=e.options.getGroupedRowModel(e)),e.options.manualGrouping||!e._getGroupedRowModel?e.getPreGroupedRowModel():e._getGroupedRowModel())},_createRow:(e,n)=>{e.getIsGrouped=()=>!!e.groupingColumnId,e.getGroupingValue=t=>{if(e._groupingValuesCache.hasOwnProperty(t))return e._groupingValuesCache[t];const r=n.getColumn(t);return r!=null&&r.columnDef.getGroupingValue?(e._groupingValuesCache[t]=r.columnDef.getGroupingValue(e.original),e._groupingValuesCache[t]):e.getValue(t)},e._groupingValuesCache={}},_createCell:(e,n,t,r)=>{e.getIsGrouped=()=>n.getIsGrouped()&&n.id===t.groupingColumnId,e.getIsPlaceholder=()=>!e.getIsGrouped()&&n.getIsGrouped(),e.getIsAggregated=()=>{var i;return!e.getIsGrouped()&&!e.getIsPlaceholder()&&!!((i=t.subRows)!=null&&i.length)}}};function Yr(e,n,t){if(!(n!=null&&n.length)||!t)return e;const r=e.filter(o=>!n.includes(o.id));return t==="remove"?r:[...n.map(o=>e.find(s=>s.id===o)).filter(Boolean),...r]}const Xr={_getInitialState:e=>({columnVisibility:{},...e}),_getDefaultOptions:e=>({onColumnVisibilityChange:De("columnVisibility",e)}),_createColumn:(e,n)=>{e.toggleVisibility=t=>{e.getCanHide()&&n.setColumnVisibility(r=>({...r,[e.id]:t??!e.getIsVisible()}))},e.getIsVisible=()=>{var t;const r=e.columns;return(r.length?r.some(i=>i.getIsVisible()):(t=n.getState().columnVisibility)==null?void 0:t[e.id])??!0},e.getCanHide=()=>(e.columnDef.enableHiding??!0)&&(n.options.enableHiding??!0),e.getToggleVisibilityHandler=()=>t=>{var r;(r=e.toggleVisibility)==null||r.call(e,t.target.checked)}},_createRow:(e,n)=>{e._getAllVisibleCells=D(()=>[e.getAllCells(),n.getState().columnVisibility],t=>t.filter(r=>r.column.getIsVisible()),z(n.options,"debugRows")),e.getVisibleCells=D(()=>[e.getLeftVisibleCells(),e.getCenterVisibleCells(),e.getRightVisibleCells()],(t,r,i)=>[...t,...r,...i],z(n.options,"debugRows"))},_createTable:e=>{const n=(t,r)=>D(()=>[r(),r().filter(i=>i.getIsVisible()).map(i=>i.id).join("_")],i=>i.filter(o=>{var s;return(s=o.getIsVisible)==null?void 0:s.call(o)}),z(e.options,"debugColumns"));e.getVisibleFlatColumns=n("getVisibleFlatColumns",()=>e.getAllFlatColumns()),e.getVisibleLeafColumns=n("getVisibleLeafColumns",()=>e.getAllLeafColumns()),e.getLeftVisibleLeafColumns=n("getLeftVisibleLeafColumns",()=>e.getLeftLeafColumns()),e.getRightVisibleLeafColumns=n("getRightVisibleLeafColumns",()=>e.getRightLeafColumns()),e.getCenterVisibleLeafColumns=n("getCenterVisibleLeafColumns",()=>e.getCenterLeafColumns()),e.setColumnVisibility=t=>{var r,i;return(i=(r=e.options).onColumnVisibilityChange)==null?void 0:i.call(r,t)},e.resetColumnVisibility=t=>{e.setColumnVisibility(t?{}:e.initialState.columnVisibility??{})},e.toggleAllColumnsVisible=t=>{t=t??!e.getIsAllColumnsVisible(),e.setColumnVisibility(e.getAllLeafColumns().reduce((r,i)=>{var o;return{...r,[i.id]:t||!((o=i.getCanHide)!=null&&o.call(i))}},{}))},e.getIsAllColumnsVisible=()=>!e.getAllLeafColumns().some(t=>{var r;return!((r=t.getIsVisible)!=null&&r.call(t))}),e.getIsSomeColumnsVisible=()=>e.getAllLeafColumns().some(t=>{var r;return(r=t.getIsVisible)==null?void 0:r.call(t)}),e.getToggleAllColumnsVisibilityHandler=()=>t=>{var r;e.toggleAllColumnsVisible((r=t.target)==null?void 0:r.checked)}}};function mt(e,n){return n?n==="center"?e.getCenterVisibleLeafColumns():n==="left"?e.getLeftVisibleLeafColumns():e.getRightVisibleLeafColumns():e.getVisibleLeafColumns()}const Jr={_getInitialState:e=>({columnOrder:[],...e}),_getDefaultOptions:e=>({onColumnOrderChange:De("columnOrder",e)}),_createColumn:(e,n)=>{e.getIndex=D(t=>[mt(n,t)],t=>t.findIndex(r=>r.id===e.id),z(n.options,"debugColumns")),e.getIsFirstColumn=t=>{var r;return((r=mt(n,t)[0])==null?void 0:r.id)===e.id},e.getIsLastColumn=t=>{var r;const i=mt(n,t);return((r=i[i.length-1])==null?void 0:r.id)===e.id}},_createTable:e=>{e.setColumnOrder=n=>{var t,r;return(r=(t=e.options).onColumnOrderChange)==null?void 0:r.call(t,n)},e.resetColumnOrder=n=>{e.setColumnOrder(n?[]:e.initialState.columnOrder??[])},e._getOrderColumnsFn=D(()=>[e.getState().columnOrder,e.getState().grouping,e.options.groupedColumnMode],(n,t,r)=>i=>{let o=[];if(!(n!=null&&n.length))o=i;else{const s=[...n],a=[...i];for(;a.length&&s.length;){const c=s.shift(),l=a.findIndex(f=>f.id===c);l>-1&&o.push(a.splice(l,1)[0])}o=[...o,...a]}return Yr(o,t,r)},z(e.options,"debugTable"))}},Gt=()=>({left:[],right:[]}),Qr={_getInitialState:e=>({columnPinning:Gt(),...e}),_getDefaultOptions:e=>({onColumnPinningChange:De("columnPinning",e)}),_createColumn:(e,n)=>{e.pin=t=>{const r=e.getLeafColumns().map(i=>i.id).filter(Boolean);n.setColumnPinning(i=>t==="right"?{left:((i==null?void 0:i.left)??[]).filter(o=>!(r!=null&&r.includes(o))),right:[...((i==null?void 0:i.right)??[]).filter(o=>!(r!=null&&r.includes(o))),...r]}:t==="left"?{left:[...((i==null?void 0:i.left)??[]).filter(o=>!(r!=null&&r.includes(o))),...r],right:((i==null?void 0:i.right)??[]).filter(o=>!(r!=null&&r.includes(o)))}:{left:((i==null?void 0:i.left)??[]).filter(o=>!(r!=null&&r.includes(o))),right:((i==null?void 0:i.right)??[]).filter(o=>!(r!=null&&r.includes(o)))})},e.getCanPin=()=>e.getLeafColumns().some(r=>(r.columnDef.enablePinning??!0)&&(n.options.enableColumnPinning??n.options.enablePinning??!0)),e.getIsPinned=()=>{const t=e.getLeafColumns().map(a=>a.id),{left:r,right:i}=n.getState().columnPinning,o=t.some(a=>r==null?void 0:r.includes(a)),s=t.some(a=>i==null?void 0:i.includes(a));return o?"left":s?"right":!1},e.getPinnedIndex=()=>{var t,r;const i=e.getIsPinned();return i?((r=(t=n.getState().columnPinning)==null?void 0:t[i])==null?void 0:r.indexOf(e.id))??-1:0}},_createRow:(e,n)=>{e.getCenterVisibleCells=D(()=>[e._getAllVisibleCells(),n.getState().columnPinning.left,n.getState().columnPinning.right],(t,r,i)=>{const o=[...r??[],...i??[]];return t.filter(s=>!o.includes(s.column.id))},z(n.options,"debugRows")),e.getLeftVisibleCells=D(()=>[e._getAllVisibleCells(),n.getState().columnPinning.left],(t,r)=>(r??[]).map(o=>t.find(s=>s.column.id===o)).filter(Boolean).map(o=>({...o,position:"left"})),z(n.options,"debugRows")),e.getRightVisibleCells=D(()=>[e._getAllVisibleCells(),n.getState().columnPinning.right],(t,r)=>(r??[]).map(o=>t.find(s=>s.column.id===o)).filter(Boolean).map(o=>({...o,position:"right"})),z(n.options,"debugRows"))},_createTable:e=>{e.setColumnPinning=n=>{var t,r;return(r=(t=e.options).onColumnPinningChange)==null?void 0:r.call(t,n)},e.resetColumnPinning=n=>{var t;return e.setColumnPinning(n?Gt():((t=e.initialState)==null?void 0:t.columnPinning)??Gt())},e.getIsSomeColumnsPinned=n=>{var t,r,i;const o=e.getState().columnPinning;return n?!!((i=o[n])!=null&&i.length):!!((t=o.left)!=null&&t.length||(r=o.right)!=null&&r.length)},e.getLeftLeafColumns=D(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left],(n,t)=>(t??[]).map(r=>n.find(i=>i.id===r)).filter(Boolean),z(e.options,"debugColumns")),e.getRightLeafColumns=D(()=>[e.getAllLeafColumns(),e.getState().columnPinning.right],(n,t)=>(t??[]).map(r=>n.find(i=>i.id===r)).filter(Boolean),z(e.options,"debugColumns")),e.getCenterLeafColumns=D(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(n,t,r)=>{const i=[...t??[],...r??[]];return n.filter(o=>!i.includes(o.id))},z(e.options,"debugColumns"))}},bt={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},Bt=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),Zr={_getDefaultColumnDef:()=>bt,_getInitialState:e=>({columnSizing:{},columnSizingInfo:Bt(),...e}),_getDefaultOptions:e=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:De("columnSizing",e),onColumnSizingInfoChange:De("columnSizingInfo",e)}),_createColumn:(e,n)=>{e.getSize=()=>{const t=n.getState().columnSizing[e.id];return Math.min(Math.max(e.columnDef.minSize??bt.minSize,t??e.columnDef.size??bt.size),e.columnDef.maxSize??bt.maxSize)},e.getStart=D(t=>[t,mt(n,t),n.getState().columnSizing],(t,r)=>r.slice(0,e.getIndex(t)).reduce((i,o)=>i+o.getSize(),0),z(n.options,"debugColumns")),e.getAfter=D(t=>[t,mt(n,t),n.getState().columnSizing],(t,r)=>r.slice(e.getIndex(t)+1).reduce((i,o)=>i+o.getSize(),0),z(n.options,"debugColumns")),e.resetSize=()=>{n.setColumnSizing(({[e.id]:t,...r})=>r)},e.getCanResize=()=>(e.columnDef.enableResizing??!0)&&(n.options.enableColumnResizing??!0),e.getIsResizing=()=>n.getState().columnSizingInfo.isResizingColumn===e.id},_createHeader:(e,n)=>{e.getSize=()=>{let t=0;const r=i=>{i.subHeaders.length?i.subHeaders.forEach(r):t+=i.column.getSize()??0};return r(e),t},e.getStart=()=>{if(e.index>0){const t=e.headerGroup.headers[e.index-1];return t.getStart()+t.getSize()}return 0},e.getResizeHandler=t=>{const r=n.getColumn(e.column.id),i=r==null?void 0:r.getCanResize();return o=>{var s;if(!r||!i||((s=o.persist)==null||s.call(o),Ht(o)&&o.touches&&o.touches.length>1))return;const a=e.getSize(),c=e?e.getLeafHeaders().map(x=>[x.column.id,x.column.getSize()]):[[r.id,r.getSize()]],l=Ht(o)?Math.round(o.touches[0].clientX):o.clientX,f={},g=(x,G)=>{typeof G=="number"&&(n.setColumnSizingInfo(k=>{const E=n.options.columnResizeDirection==="rtl"?-1:1,I=(G-((k==null?void 0:k.startOffset)??0))*E,V=Math.max(I/((k==null?void 0:k.startSize)??0),-.999999);return k.columnSizingStart.forEach(([X,q])=>{f[X]=Math.round(Math.max(q+q*V,0)*100)/100}),{...k,deltaOffset:I,deltaPercentage:V}}),(n.options.columnResizeMode==="onChange"||x==="end")&&n.setColumnSizing(k=>({...k,...f})))},d=x=>g("move",x),p=x=>{g("end",x),n.setColumnSizingInfo(G=>({...G,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},v=t||typeof document<"u"?document:null,h={moveHandler:x=>d(x.clientX),upHandler:x=>{v==null||v.removeEventListener("mousemove",h.moveHandler),v==null||v.removeEventListener("mouseup",h.upHandler),p(x.clientX)}},w={moveHandler:x=>(x.cancelable&&(x.preventDefault(),x.stopPropagation()),d(x.touches[0].clientX),!1),upHandler:x=>{var G;v==null||v.removeEventListener("touchmove",w.moveHandler),v==null||v.removeEventListener("touchend",w.upHandler),x.cancelable&&(x.preventDefault(),x.stopPropagation()),p((G=x.touches[0])==null?void 0:G.clientX)}},F=$r()?{passive:!1}:!1;Ht(o)?(v==null||v.addEventListener("touchmove",w.moveHandler,F),v==null||v.addEventListener("touchend",w.upHandler,F)):(v==null||v.addEventListener("mousemove",h.moveHandler,F),v==null||v.addEventListener("mouseup",h.upHandler,F)),n.setColumnSizingInfo(x=>({...x,startOffset:l,startSize:a,deltaOffset:0,deltaPercentage:0,columnSizingStart:c,isResizingColumn:r.id}))}}},_createTable:e=>{e.setColumnSizing=n=>{var t,r;return(r=(t=e.options).onColumnSizingChange)==null?void 0:r.call(t,n)},e.setColumnSizingInfo=n=>{var t,r;return(r=(t=e.options).onColumnSizingInfoChange)==null?void 0:r.call(t,n)},e.resetColumnSizing=n=>{e.setColumnSizing(n?{}:e.initialState.columnSizing??{})},e.resetHeaderSizeInfo=n=>{e.setColumnSizingInfo(n?Bt():e.initialState.columnSizingInfo??Bt())},e.getTotalSize=()=>{var n;return((n=e.getHeaderGroups()[0])==null?void 0:n.headers.reduce((t,r)=>t+r.getSize(),0))??0},e.getLeftTotalSize=()=>{var n;return((n=e.getLeftHeaderGroups()[0])==null?void 0:n.headers.reduce((t,r)=>t+r.getSize(),0))??0},e.getCenterTotalSize=()=>{var n;return((n=e.getCenterHeaderGroups()[0])==null?void 0:n.headers.reduce((t,r)=>t+r.getSize(),0))??0},e.getRightTotalSize=()=>{var n;return((n=e.getRightHeaderGroups()[0])==null?void 0:n.headers.reduce((t,r)=>t+r.getSize(),0))??0}}};let Ft=null;function $r(){if(typeof Ft=="boolean")return Ft;let e=!1;try{const n={get passive(){return e=!0,!1}},t=()=>{};window.addEventListener("test",t,n),window.removeEventListener("test",t)}catch{e=!1}return Ft=e,Ft}function Ht(e){return e.type==="touchstart"}const ei={_createTable:e=>{e._getGlobalFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,"__global__"),e.getGlobalFacetedRowModel=()=>e.options.manualFiltering||!e._getGlobalFacetedRowModel?e.getPreFilteredRowModel():e._getGlobalFacetedRowModel(),e._getGlobalFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,"__global__"),e.getGlobalFacetedUniqueValues=()=>e._getGlobalFacetedUniqueValues?e._getGlobalFacetedUniqueValues():new Map,e._getGlobalFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,"__global__"),e.getGlobalFacetedMinMaxValues=()=>{if(e._getGlobalFacetedMinMaxValues)return e._getGlobalFacetedMinMaxValues()}}},ti={_getInitialState:e=>({globalFilter:void 0,...e}),_getDefaultOptions:e=>({onGlobalFilterChange:De("globalFilter",e),globalFilterFn:"auto",getColumnCanGlobalFilter:n=>{var t,r;const i=(r=(t=e.getCoreRowModel().flatRows[0])==null?void 0:t._getAllCellsByColumnId()[n.id])==null?void 0:r.getValue();return typeof i=="string"||typeof i=="number"}}),_createColumn:(e,n)=>{e.getCanGlobalFilter=()=>{var t,r;return(e.columnDef.enableGlobalFilter??!0)&&(n.options.enableGlobalFilter??!0)&&(n.options.enableFilters??!0)&&(((r=(t=n.options).getColumnCanGlobalFilter)==null?void 0:r.call(t,e))??!0)&&!!e.accessorFn}},_createTable:e=>{e.getGlobalAutoFilterFn=()=>He.includesString,e.getGlobalFilterFn=()=>{var n;const{globalFilterFn:t}=e.options;return kt(t)?t:t==="auto"?e.getGlobalAutoFilterFn():((n=e.options.filterFns)==null?void 0:n[t])??He[t]},e.setGlobalFilter=n=>{var t,r;(r=(t=e.options).onGlobalFilterChange)==null||r.call(t,n)},e.resetGlobalFilter=n=>{e.setGlobalFilter(n?void 0:e.initialState.globalFilter)}}},ni={_getInitialState:e=>({expanded:{},...e}),_getDefaultOptions:e=>({onExpandedChange:De("expanded",e),paginateExpandedRows:!0}),_createTable:e=>{let n=!1,t=!1;e._autoResetExpanded=()=>{if(!n){e._queue(()=>{n=!0});return}if(e.options.autoResetAll??e.options.autoResetExpanded??!e.options.manualExpanding){if(t)return;t=!0,e._queue(()=>{e.resetExpanded(),t=!1})}},e.setExpanded=r=>{var i,o;return(o=(i=e.options).onExpandedChange)==null?void 0:o.call(i,r)},e.toggleAllRowsExpanded=r=>{r??!e.getIsAllRowsExpanded()?e.setExpanded(!0):e.setExpanded({})},e.resetExpanded=r=>{var i;e.setExpanded(r?{}:((i=e.initialState)==null?void 0:i.expanded)??{})},e.getCanSomeRowsExpand=()=>e.getPrePaginationRowModel().flatRows.some(r=>r.getCanExpand()),e.getToggleAllRowsExpandedHandler=()=>r=>{var i;(i=r.persist)==null||i.call(r),e.toggleAllRowsExpanded()},e.getIsSomeRowsExpanded=()=>{const r=e.getState().expanded;return r===!0||Object.values(r).some(Boolean)},e.getIsAllRowsExpanded=()=>{const r=e.getState().expanded;return typeof r=="boolean"?r===!0:!(!Object.keys(r).length||e.getRowModel().flatRows.some(i=>!i.getIsExpanded()))},e.getExpandedDepth=()=>{let r=0;return(e.getState().expanded===!0?Object.keys(e.getRowModel().rowsById):Object.keys(e.getState().expanded)).forEach(o=>{const s=o.split(".");r=Math.max(r,s.length)}),r},e.getPreExpandedRowModel=()=>e.getSortedRowModel(),e.getExpandedRowModel=()=>(!e._getExpandedRowModel&&e.options.getExpandedRowModel&&(e._getExpandedRowModel=e.options.getExpandedRowModel(e)),e.options.manualExpanding||!e._getExpandedRowModel?e.getPreExpandedRowModel():e._getExpandedRowModel())},_createRow:(e,n)=>{e.toggleExpanded=t=>{n.setExpanded(r=>{const i=r===!0?!0:!!(r!=null&&r[e.id]);let o={};if(r===!0?Object.keys(n.getRowModel().rowsById).forEach(s=>{o[s]=!0}):o=r,t=t??!i,!i&&t)return{...o,[e.id]:!0};if(i&&!t){const{[e.id]:s,...a}=o;return a}return r})},e.getIsExpanded=()=>{var t,r;const i=n.getState().expanded;return!!(((r=(t=n.options).getIsRowExpanded)==null?void 0:r.call(t,e))??(i===!0||(i==null?void 0:i[e.id])))},e.getCanExpand=()=>{var t,r,i;return((r=(t=n.options).getRowCanExpand)==null?void 0:r.call(t,e))??((n.options.enableExpanding??!0)&&!!((i=e.subRows)!=null&&i.length))},e.getIsAllParentsExpanded=()=>{let t=!0,r=e;for(;t&&r.parentId;)r=n.getRow(r.parentId,!0),t=r.getIsExpanded();return t},e.getToggleExpandedHandler=()=>{const t=e.getCanExpand();return()=>{t&&e.toggleExpanded()}}}},Yt=0,Xt=10,Nt=()=>({pageIndex:Yt,pageSize:Xt}),ri={_getInitialState:e=>({...e,pagination:{...Nt(),...e==null?void 0:e.pagination}}),_getDefaultOptions:e=>({onPaginationChange:De("pagination",e)}),_createTable:e=>{let n=!1,t=!1;e._autoResetPageIndex=()=>{if(!n){e._queue(()=>{n=!0});return}if(e.options.autoResetAll??e.options.autoResetPageIndex??!e.options.manualPagination){if(t)return;t=!0,e._queue(()=>{e.resetPageIndex(),t=!1})}},e.setPagination=r=>{var i,o;const s=a=>Xe(r,a);return(o=(i=e.options).onPaginationChange)==null?void 0:o.call(i,s)},e.resetPagination=r=>{e.setPagination(r?Nt():e.initialState.pagination??Nt())},e.setPageIndex=r=>{e.setPagination(i=>{let o=Xe(r,i.pageIndex);const s=typeof e.options.pageCount>"u"||e.options.pageCount===-1?Number.MAX_SAFE_INTEGER:e.options.pageCount-1;return o=Math.max(0,Math.min(o,s)),{...i,pageIndex:o}})},e.resetPageIndex=r=>{var i,o;e.setPageIndex(r?Yt:((o=(i=e.initialState)==null?void 0:i.pagination)==null?void 0:o.pageIndex)??Yt)},e.resetPageSize=r=>{var i,o;e.setPageSize(r?Xt:((o=(i=e.initialState)==null?void 0:i.pagination)==null?void 0:o.pageSize)??Xt)},e.setPageSize=r=>{e.setPagination(i=>{const o=Math.max(1,Xe(r,i.pageSize)),s=i.pageSize*i.pageIndex,a=Math.floor(s/o);return{...i,pageIndex:a,pageSize:o}})},e.setPageCount=r=>e.setPagination(i=>{let o=Xe(r,e.options.pageCount??-1);return typeof o=="number"&&(o=Math.max(-1,o)),{...i,pageCount:o}}),e.getPageOptions=D(()=>[e.getPageCount()],r=>{let i=[];return r&&r>0&&(i=[...new Array(r)].fill(null).map((o,s)=>s)),i},z(e.options,"debugTable")),e.getCanPreviousPage=()=>e.getState().pagination.pageIndex>0,e.getCanNextPage=()=>{const{pageIndex:r}=e.getState().pagination,i=e.getPageCount();return i===-1?!0:i===0?!1:r<i-1},e.previousPage=()=>e.setPageIndex(r=>r-1),e.nextPage=()=>e.setPageIndex(r=>r+1),e.firstPage=()=>e.setPageIndex(0),e.lastPage=()=>e.setPageIndex(e.getPageCount()-1),e.getPrePaginationRowModel=()=>e.getExpandedRowModel(),e.getPaginationRowModel=()=>(!e._getPaginationRowModel&&e.options.getPaginationRowModel&&(e._getPaginationRowModel=e.options.getPaginationRowModel(e)),e.options.manualPagination||!e._getPaginationRowModel?e.getPrePaginationRowModel():e._getPaginationRowModel()),e.getPageCount=()=>e.options.pageCount??Math.ceil(e.getRowCount()/e.getState().pagination.pageSize),e.getRowCount=()=>e.options.rowCount??e.getPrePaginationRowModel().rows.length}},Ut=()=>({top:[],bottom:[]}),ii={_getInitialState:e=>({rowPinning:Ut(),...e}),_getDefaultOptions:e=>({onRowPinningChange:De("rowPinning",e)}),_createRow:(e,n)=>{e.pin=(t,r,i)=>{const o=r?e.getLeafRows().map(({id:c})=>c):[],s=i?e.getParentRows().map(({id:c})=>c):[],a=new Set([...s,e.id,...o]);n.setRowPinning(c=>t==="bottom"?{top:((c==null?void 0:c.top)??[]).filter(l=>!(a!=null&&a.has(l))),bottom:[...((c==null?void 0:c.bottom)??[]).filter(l=>!(a!=null&&a.has(l))),...Array.from(a)]}:t==="top"?{top:[...((c==null?void 0:c.top)??[]).filter(l=>!(a!=null&&a.has(l))),...Array.from(a)],bottom:((c==null?void 0:c.bottom)??[]).filter(l=>!(a!=null&&a.has(l)))}:{top:((c==null?void 0:c.top)??[]).filter(l=>!(a!=null&&a.has(l))),bottom:((c==null?void 0:c.bottom)??[]).filter(l=>!(a!=null&&a.has(l)))})},e.getCanPin=()=>{const{enableRowPinning:t,enablePinning:r}=n.options;return typeof t=="function"?t(e):t??r??!0},e.getIsPinned=()=>{const t=[e.id],{top:r,bottom:i}=n.getState().rowPinning,o=t.some(a=>r==null?void 0:r.includes(a)),s=t.some(a=>i==null?void 0:i.includes(a));return o?"top":s?"bottom":!1},e.getPinnedIndex=()=>{var t;const r=e.getIsPinned();if(!r)return-1;const i=(t=r==="top"?n.getTopRows():n.getBottomRows())==null?void 0:t.map(({id:o})=>o);return(i==null?void 0:i.indexOf(e.id))??-1}},_createTable:e=>{e.setRowPinning=n=>{var t,r;return(r=(t=e.options).onRowPinningChange)==null?void 0:r.call(t,n)},e.resetRowPinning=n=>{var t;return e.setRowPinning(n?Ut():((t=e.initialState)==null?void 0:t.rowPinning)??Ut())},e.getIsSomeRowsPinned=n=>{var t,r,i;const o=e.getState().rowPinning;return n?!!((i=o[n])!=null&&i.length):!!((t=o.top)!=null&&t.length||(r=o.bottom)!=null&&r.length)},e._getPinnedRows=(n,t,r)=>(e.options.keepPinnedRows??!0?(t??[]).map(o=>{const s=e.getRow(o,!0);return s.getIsAllParentsExpanded()?s:null}):(t??[]).map(o=>n.find(s=>s.id===o))).filter(Boolean).map(o=>({...o,position:r})),e.getTopRows=D(()=>[e.getRowModel().rows,e.getState().rowPinning.top],(n,t)=>e._getPinnedRows(n,t,"top"),z(e.options,"debugRows")),e.getBottomRows=D(()=>[e.getRowModel().rows,e.getState().rowPinning.bottom],(n,t)=>e._getPinnedRows(n,t,"bottom"),z(e.options,"debugRows")),e.getCenterRows=D(()=>[e.getRowModel().rows,e.getState().rowPinning.top,e.getState().rowPinning.bottom],(n,t,r)=>{const i=new Set([...t??[],...r??[]]);return n.filter(o=>!i.has(o.id))},z(e.options,"debugRows"))}},oi={_getInitialState:e=>({rowSelection:{},...e}),_getDefaultOptions:e=>({onRowSelectionChange:De("rowSelection",e),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),_createTable:e=>{e.setRowSelection=n=>{var t,r;return(r=(t=e.options).onRowSelectionChange)==null?void 0:r.call(t,n)},e.resetRowSelection=n=>e.setRowSelection(n?{}:e.initialState.rowSelection??{}),e.toggleAllRowsSelected=n=>{e.setRowSelection(t=>{n=typeof n<"u"?n:!e.getIsAllRowsSelected();const r={...t},i=e.getPreGroupedRowModel().flatRows;return n?i.forEach(o=>{o.getCanSelect()&&(r[o.id]=!0)}):i.forEach(o=>{delete r[o.id]}),r})},e.toggleAllPageRowsSelected=n=>e.setRowSelection(t=>{const r=typeof n<"u"?n:!e.getIsAllPageRowsSelected(),i={...t};return e.getRowModel().rows.forEach(o=>{Jt(i,o.id,r,!0,e)}),i}),e.getPreSelectedRowModel=()=>e.getCoreRowModel(),e.getSelectedRowModel=D(()=>[e.getState().rowSelection,e.getCoreRowModel()],(n,t)=>Object.keys(n).length?jt(e,t):{rows:[],flatRows:[],rowsById:{}},z(e.options,"debugTable")),e.getFilteredSelectedRowModel=D(()=>[e.getState().rowSelection,e.getFilteredRowModel()],(n,t)=>Object.keys(n).length?jt(e,t):{rows:[],flatRows:[],rowsById:{}},z(e.options,"debugTable")),e.getGroupedSelectedRowModel=D(()=>[e.getState().rowSelection,e.getSortedRowModel()],(n,t)=>Object.keys(n).length?jt(e,t):{rows:[],flatRows:[],rowsById:{}},z(e.options,"debugTable")),e.getIsAllRowsSelected=()=>{const n=e.getFilteredRowModel().flatRows,{rowSelection:t}=e.getState();let r=!!(n.length&&Object.keys(t).length);return r&&n.some(i=>i.getCanSelect()&&!t[i.id])&&(r=!1),r},e.getIsAllPageRowsSelected=()=>{const n=e.getPaginationRowModel().flatRows.filter(i=>i.getCanSelect()),{rowSelection:t}=e.getState();let r=!!n.length;return r&&n.some(i=>!t[i.id])&&(r=!1),r},e.getIsSomeRowsSelected=()=>{const n=Object.keys(e.getState().rowSelection??{}).length;return n>0&&n<e.getFilteredRowModel().flatRows.length},e.getIsSomePageRowsSelected=()=>{const n=e.getPaginationRowModel().flatRows;return e.getIsAllPageRowsSelected()?!1:n.filter(t=>t.getCanSelect()).some(t=>t.getIsSelected()||t.getIsSomeSelected())},e.getToggleAllRowsSelectedHandler=()=>n=>{e.toggleAllRowsSelected(n.target.checked)},e.getToggleAllPageRowsSelectedHandler=()=>n=>{e.toggleAllPageRowsSelected(n.target.checked)}},_createRow:(e,n)=>{e.toggleSelected=(t,r)=>{const i=e.getIsSelected();n.setRowSelection(o=>{if(t=typeof t<"u"?t:!i,e.getCanSelect()&&i===t)return o;const s={...o};return Jt(s,e.id,t,(r==null?void 0:r.selectChildren)??!0,n),s})},e.getIsSelected=()=>{const{rowSelection:t}=n.getState();return ln(e,t)},e.getIsSomeSelected=()=>{const{rowSelection:t}=n.getState();return Qt(e,t)==="some"},e.getIsAllSubRowsSelected=()=>{const{rowSelection:t}=n.getState();return Qt(e,t)==="all"},e.getCanSelect=()=>typeof n.options.enableRowSelection=="function"?n.options.enableRowSelection(e):n.options.enableRowSelection??!0,e.getCanSelectSubRows=()=>typeof n.options.enableSubRowSelection=="function"?n.options.enableSubRowSelection(e):n.options.enableSubRowSelection??!0,e.getCanMultiSelect=()=>typeof n.options.enableMultiRowSelection=="function"?n.options.enableMultiRowSelection(e):n.options.enableMultiRowSelection??!0,e.getToggleSelectedHandler=()=>{const t=e.getCanSelect();return r=>{var i;t&&e.toggleSelected((i=r.target)==null?void 0:i.checked)}}}},Jt=(e,n,t,r,i)=>{var o;const s=i.getRow(n,!0);t?(s.getCanMultiSelect()||Object.keys(e).forEach(a=>delete e[a]),s.getCanSelect()&&(e[n]=!0)):delete e[n],r&&((o=s.subRows)!=null&&o.length)&&s.getCanSelectSubRows()&&s.subRows.forEach(a=>Jt(e,a.id,t,r,i))};function jt(e,n){const t=e.getState().rowSelection,r=[],i={},o=(s,a=0)=>s.map(c=>{var l;const f=ln(c,t);if(f&&(r.push(c),i[c.id]=c),(l=c.subRows)!=null&&l.length&&(c={...c,subRows:o(c.subRows,a+1)}),f)return c}).filter(Boolean);return{rows:o(n.rows),flatRows:r,rowsById:i}}function ln(e,n){return n[e.id]??!1}function Qt(e,n,t){var r;if(!((r=e.subRows)!=null&&r.length))return!1;let i=!0,o=!1;return e.subRows.forEach(s=>{if(!(o&&!i)&&(s.getCanSelect()&&(ln(s,n)?o=!0:i=!1),s.subRows&&s.subRows.length)){const a=Qt(s,n);a==="all"?o=!0:(a==="some"&&(o=!0),i=!1)}}),i?"all":o?"some":!1}const Zt=/([0-9]+)/gm,si=(e,n,t)=>Tn(Qe(e.getValue(t)).toLowerCase(),Qe(n.getValue(t)).toLowerCase()),li=(e,n,t)=>Tn(Qe(e.getValue(t)),Qe(n.getValue(t))),ai=(e,n,t)=>an(Qe(e.getValue(t)).toLowerCase(),Qe(n.getValue(t)).toLowerCase()),ui=(e,n,t)=>an(Qe(e.getValue(t)),Qe(n.getValue(t))),ci=(e,n,t)=>{const r=e.getValue(t),i=n.getValue(t);return r>i?1:r<i?-1:0},di=(e,n,t)=>an(e.getValue(t),n.getValue(t));function an(e,n){return e===n?0:e>n?1:-1}function Qe(e){return typeof e=="number"?isNaN(e)||e===1/0||e===-1/0?"":String(e):typeof e=="string"?e:""}function Tn(e,n){const t=e.split(Zt).filter(Boolean),r=n.split(Zt).filter(Boolean);for(;t.length&&r.length;){const i=t.shift(),o=r.shift(),s=parseInt(i,10),a=parseInt(o,10),c=[s,a].sort();if(isNaN(c[0])){if(i>o)return 1;if(o>i)return-1;continue}if(isNaN(c[1]))return isNaN(s)?-1:1;if(s>a)return 1;if(a>s)return-1}return t.length-r.length}const ft={alphanumeric:si,alphanumericCaseSensitive:li,text:ai,textCaseSensitive:ui,datetime:ci,basic:di},gi={_getInitialState:e=>({sorting:[],...e}),_getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),_getDefaultOptions:e=>({onSortingChange:De("sorting",e),isMultiSortEvent:n=>n.shiftKey}),_createColumn:(e,n)=>{e.getAutoSortingFn=()=>{const t=n.getFilteredRowModel().flatRows.slice(10);let r=!1;for(const i of t){const o=i==null?void 0:i.getValue(e.id);if(Object.prototype.toString.call(o)==="[object Date]")return ft.datetime;if(typeof o=="string"&&(r=!0,o.split(Zt).length>1))return ft.alphanumeric}return r?ft.text:ft.basic},e.getAutoSortDir=()=>{const t=n.getFilteredRowModel().flatRows[0];return typeof(t==null?void 0:t.getValue(e.id))=="string"?"asc":"desc"},e.getSortingFn=()=>{var t;if(!e)throw new Error;return kt(e.columnDef.sortingFn)?e.columnDef.sortingFn:e.columnDef.sortingFn==="auto"?e.getAutoSortingFn():((t=n.options.sortingFns)==null?void 0:t[e.columnDef.sortingFn])??ft[e.columnDef.sortingFn]},e.toggleSorting=(t,r)=>{const i=e.getNextSortingOrder(),o=typeof t<"u"&&t!==null;n.setSorting(s=>{const a=s==null?void 0:s.find(d=>d.id===e.id),c=s==null?void 0:s.findIndex(d=>d.id===e.id);let l=[],f,g=o?t:i==="desc";return s!=null&&s.length&&e.getCanMultiSort()&&r?a?f="toggle":f="add":s!=null&&s.length&&c!==s.length-1?f="replace":a?f="toggle":f="replace",f==="toggle"&&(o||i||(f="remove")),f==="add"?(l=[...s,{id:e.id,desc:g}],l.splice(0,l.length-(n.options.maxMultiSortColCount??Number.MAX_SAFE_INTEGER))):f==="toggle"?l=s.map(d=>d.id===e.id?{...d,desc:g}:d):f==="remove"?l=s.filter(d=>d.id!==e.id):l=[{id:e.id,desc:g}],l})},e.getFirstSortDir=()=>e.columnDef.sortDescFirst??n.options.sortDescFirst??e.getAutoSortDir()==="desc"?"desc":"asc",e.getNextSortingOrder=t=>{const r=e.getFirstSortDir(),i=e.getIsSorted();return i?i!==r&&(n.options.enableSortingRemoval??!0)&&(!t||(n.options.enableMultiRemove??!0))?!1:i==="desc"?"asc":"desc":r},e.getCanSort=()=>(e.columnDef.enableSorting??!0)&&(n.options.enableSorting??!0)&&!!e.accessorFn,e.getCanMultiSort=()=>e.columnDef.enableMultiSort??n.options.enableMultiSort??!!e.accessorFn,e.getIsSorted=()=>{var t;const r=(t=n.getState().sorting)==null?void 0:t.find(i=>i.id===e.id);return r?r.desc?"desc":"asc":!1},e.getSortIndex=()=>{var t;return((t=n.getState().sorting)==null?void 0:t.findIndex(r=>r.id===e.id))??-1},e.clearSorting=()=>{n.setSorting(t=>t!=null&&t.length?t.filter(r=>r.id!==e.id):[])},e.getToggleSortingHandler=()=>{const t=e.getCanSort();return r=>{var i,o,s,a;t&&((i=r.persist)==null||i.call(r),(a=e.toggleSorting)==null||a.call(e,void 0,e.getCanMultiSort()?(s=(o=n.options).isMultiSortEvent)==null?void 0:s.call(o,r):!1))}}},_createTable:e=>{e.setSorting=n=>{var t,r;return(r=(t=e.options).onSortingChange)==null?void 0:r.call(t,n)},e.resetSorting=n=>{var t;e.setSorting(n?[]:((t=e.initialState)==null?void 0:t.sorting)??[])},e.getPreSortedRowModel=()=>e.getGroupedRowModel(),e.getSortedRowModel=()=>(!e._getSortedRowModel&&e.options.getSortedRowModel&&(e._getSortedRowModel=e.options.getSortedRowModel(e)),e.options.manualSorting||!e._getSortedRowModel?e.getPreSortedRowModel():e._getSortedRowModel())}},fi=[Tr,Xr,Jr,Qr,Ar,Or,ei,ti,gi,Kr,ni,ri,ii,oi,Zr];function hi(e){var n;const t=[...fi,...e._features??[]];let r={_features:t};const i=r._features.reduce((g,d)=>{var p;return Object.assign(g,(p=d._getDefaultOptions)==null?void 0:p.call(d,r))},{}),o=g=>r.options.mergeOptions?r.options.mergeOptions(i,g):{...i,...g};let a={...{},...e.initialState??{}};r._features.forEach(g=>{var d;a=((d=g._getInitialState)==null?void 0:d.call(g,a))??a});const c=[];let l=!1;const f={_features:t,options:{...i,...e},initialState:a,_queue:g=>{c.push(g),l||(l=!0,Promise.resolve().then(()=>{for(;c.length;)c.shift()();l=!1}).catch(d=>setTimeout(()=>{throw d})))},reset:()=>{r.setState(r.initialState)},setOptions:g=>{const d=Xe(g,r.options);r.options=o(d)},getState:()=>r.options.state,setState:g=>{var d,p;(p=(d=r.options).onStateChange)==null||p.call(d,g)},_getRowId:(g,d,p)=>{var v,h;return((h=(v=r.options).getRowId)==null?void 0:h.call(v,g,d,p))??`${p?[p.id,d].join("."):d}`},getCoreRowModel:()=>(r._getCoreRowModel||(r._getCoreRowModel=r.options.getCoreRowModel(r)),r._getCoreRowModel()),getRowModel:()=>r.getPaginationRowModel(),getRow:(g,d)=>{let p=(d?r.getPrePaginationRowModel():r.getRowModel()).rowsById[g];if(!p&&(p=r.getCoreRowModel().rowsById[g],!p))throw new Error;return p},_getDefaultColumnDef:D(()=>[r.options.defaultColumn],g=>(g=g??{},{header:d=>{const p=d.header.column.columnDef;return p.accessorKey?p.accessorKey:p.accessorFn?p.id:null},cell:d=>{var p,v;return((v=(p=d.renderValue())==null?void 0:p.toString)==null?void 0:v.call(p))??null},...r._features.reduce((d,p)=>{var v;return Object.assign(d,(v=p._getDefaultColumnDef)==null?void 0:v.call(p))},{}),...g}),z(e,"debugColumns")),_getColumnDefs:()=>r.options.columns,getAllColumns:D(()=>[r._getColumnDefs()],g=>{const d=(p,v,h=0)=>p.map(w=>{const F=Vr(r,w,h,v),x=w;return F.columns=x.columns?d(x.columns,F,h+1):[],F});return d(g)},z(e,"debugColumns")),getAllFlatColumns:D(()=>[r.getAllColumns()],g=>g.flatMap(d=>d.getFlatColumns()),z(e,"debugColumns")),_getAllFlatColumnsById:D(()=>[r.getAllFlatColumns()],g=>g.reduce((d,p)=>(d[p.id]=p,d),{}),z(e,"debugColumns")),getAllLeafColumns:D(()=>[r.getAllColumns(),r._getOrderColumnsFn()],(g,d)=>{let p=g.flatMap(v=>v.getLeafColumns());return d(p)},z(e,"debugColumns")),getColumn:g=>r._getAllFlatColumnsById()[g]};Object.assign(r,f);for(let g=0;g<r._features.length;g++){const d=r._features[g];(n=d==null?void 0:d._createTable)==null||n.call(d,r)}return r}function pi(){return e=>D(()=>[e.options.data],n=>{const t={rows:[],flatRows:[],rowsById:{}},r=(i,o=0,s)=>{var a;const c=[];for(let l=0;l<i.length;l++){const f=on(e,e._getRowId(i[l],l,s),i[l],l,o,void 0,s==null?void 0:s.id);t.flatRows.push(f),t.rowsById[f.id]=f,c.push(f),e.options.getSubRows&&(f.originalSubRows=e.options.getSubRows(i[l],l),(a=f.originalSubRows)!=null&&a.length&&(f.subRows=r(f.originalSubRows,o+1,f)))}return c};return t.rows=r(n),t},z(e.options,"debugTable","getRowModel",()=>e._autoResetPageIndex()))}function vi(){return e=>D(()=>[e.getState().expanded,e.getPreExpandedRowModel(),e.options.paginateExpandedRows],(n,t,r)=>!t.rows.length||n!==!0&&!Object.keys(n??{}).length||!r?t:mi(t),z(e.options,"debugTable"))}function mi(e){const n=[],t=r=>{var i;n.push(r),(i=r.subRows)!=null&&i.length&&r.getIsExpanded()&&r.subRows.forEach(t)};return e.rows.forEach(t),{rows:n,flatRows:e.flatRows,rowsById:e.rowsById}}function _i(e,n,t){return t.options.filterFromLeafRows?wi(e,n,t):yi(e,n,t)}function wi(e,n,t){const r=[],i={},o=t.options.maxLeafRowFilterDepth??100,s=(a,c=0)=>{var l;const f=[];for(let g=0;g<a.length;g++){let d=a[g];const p=on(t,d.id,d.original,d.index,d.depth,void 0,d.parentId);if(p.columnFilters=d.columnFilters,(l=d.subRows)!=null&&l.length&&c<o){if(p.subRows=s(d.subRows,c+1),d=p,n(d)&&!p.subRows.length){f.push(d),i[d.id]=d,r.push(d);continue}if(n(d)||p.subRows.length){f.push(d),i[d.id]=d,r.push(d);continue}}else d=p,n(d)&&(f.push(d),i[d.id]=d,r.push(d))}return f};return{rows:s(e),flatRows:r,rowsById:i}}function yi(e,n,t){const r=[],i={},o=t.options.maxLeafRowFilterDepth??100,s=(a,c=0)=>{var l;const f=[];for(let g=0;g<a.length;g++){let d=a[g];if(n(d)){if((l=d.subRows)!=null&&l.length&&c<o){const v=on(t,d.id,d.original,d.index,d.depth,void 0,d.parentId);v.subRows=s(d.subRows,c+1),d=v}f.push(d),r.push(d),i[d.id]=d}}return f};return{rows:s(e),flatRows:r,rowsById:i}}function Si(){return e=>D(()=>[e.getPreFilteredRowModel(),e.getState().columnFilters,e.getState().globalFilter],(n,t,r)=>{if(!n.rows.length||!(t!=null&&t.length)&&!r){for(let d=0;d<n.flatRows.length;d++)n.flatRows[d].columnFilters={},n.flatRows[d].columnFiltersMeta={};return n}const i=[],o=[];(t??[]).forEach(d=>{var p;const v=e.getColumn(d.id);if(!v)return;const h=v.getFilterFn();h&&i.push({id:d.id,filterFn:h,resolvedValue:((p=h.resolveFilterValue)==null?void 0:p.call(h,d.value))??d.value})});const s=(t??[]).map(d=>d.id),a=e.getGlobalFilterFn(),c=e.getAllLeafColumns().filter(d=>d.getCanGlobalFilter());r&&a&&c.length&&(s.push("__global__"),c.forEach(d=>{var p;o.push({id:d.id,filterFn:a,resolvedValue:((p=a.resolveFilterValue)==null?void 0:p.call(a,r))??r})}));let l,f;for(let d=0;d<n.flatRows.length;d++){const p=n.flatRows[d];if(p.columnFilters={},i.length)for(let v=0;v<i.length;v++){l=i[v];const h=l.id;p.columnFilters[h]=l.filterFn(p,h,l.resolvedValue,w=>{p.columnFiltersMeta[h]=w})}if(o.length){for(let v=0;v<o.length;v++){f=o[v];const h=f.id;if(f.filterFn(p,h,f.resolvedValue,w=>{p.columnFiltersMeta[h]=w})){p.columnFilters.__global__=!0;break}}p.columnFilters.__global__!==!0&&(p.columnFilters.__global__=!1)}}const g=d=>{for(let p=0;p<s.length;p++)if(d.columnFilters[s[p]]===!1)return!1;return!0};return _i(n.rows,g,e)},z(e.options,"debugTable","getFilteredRowModel",()=>e._autoResetPageIndex()))}function xi(){return e=>D(()=>[e.getState().sorting,e.getPreSortedRowModel()],(n,t)=>{if(!t.rows.length||!(n!=null&&n.length))return t;const r=e.getState().sorting,i=[],o=r.filter(c=>{var l;return(l=e.getColumn(c.id))==null?void 0:l.getCanSort()}),s={};o.forEach(c=>{const l=e.getColumn(c.id);l&&(s[c.id]={sortUndefined:l.columnDef.sortUndefined,invertSorting:l.columnDef.invertSorting,sortingFn:l.getSortingFn()})});const a=c=>{const l=c.map(f=>({...f}));return l.sort((f,g)=>{for(let d=0;d<o.length;d+=1){const p=o[d],v=s[p.id],h=v.sortUndefined,w=(p==null?void 0:p.desc)??!1;let F=0;if(h){const x=f.getValue(p.id),G=g.getValue(p.id),k=x===void 0,E=G===void 0;if(k||E){if(h==="first")return k?-1:1;if(h==="last")return k?1:-1;F=k&&E?0:k?h:-h}}if(F===0&&(F=v.sortingFn(f,g,p.id)),F!==0)return w&&(F*=-1),v.invertSorting&&(F*=-1),F}return f.index-g.index}),l.forEach(f=>{var g;i.push(f),(g=f.subRows)!=null&&g.length&&(f.subRows=a(f.subRows))}),l};return{rows:a(t.rows),flatRows:i,rowsById:t.rowsById}},z(e.options,"debugTable","getSortedRowModel",()=>e._autoResetPageIndex()))}class Ci{constructor(n,t){this.component=n,this.props=t}}function pt(e,n){Ue(n,!0);var t=ge(),r=de(t);{var i=s=>{var a=at();K(()=>H(a,n.content)),S(s,a)},o=(s,a)=>{{var c=l=>{var f=ge();const g=O(()=>n.content(n.context));var d=de(f);{var p=h=>{var w=ge(),F=de(w);br(F,()=>u(g).component,(x,G)=>{G(x,Cr(()=>u(g).props))}),S(h,w)},v=h=>{var w=at();K(()=>H(w,u(g))),S(h,w)};L(d,h=>{u(g)instanceof Ci?h(p):h(v,!1)})}S(l,f)};L(s,l=>{n.content instanceof Function&&l(c)},a)}};L(r,s=>{typeof n.content=="string"?s(i):s(o,!1)})}S(e,t),je()}function Ri(e){const n=ht({state:{},onStateChange(){},renderFallbackValue:null,mergeOptions:(o,s)=>ht(o,s)},e),t=hi(n);let r=_e(Be(t.initialState));function i(){t.setOptions(o=>ht(o,e,{state:ht(u(r),e.state||{}),onStateChange:s=>{var a;s instanceof Function?W(r,s(u(r)),!0):W(r,ht(u(r),s),!0),(a=e.onStateChange)==null||a.call(e,s)}}))}return i(),hr(()=>{i()}),t}function ht(...e){const n={};for(let t=0;t<e.length;t++){let r=e[t];if(typeof r=="function"&&(r=r()),r){const i=Object.getOwnPropertyDescriptors(r);for(const o in i)o in n||Object.defineProperty(n,o,{enumerable:!0,get(){for(let s=e.length-1;s>=0;s--){let a,c=e[s];if(typeof c=="function"&&(c=c()),a=(c||{})[o],a!==void 0)return a}}})}}return n}function st(e,n,t){let r=t.initialDeps??[],i;function o(){var s,a,c,l;let f;t.key&&((s=t.debug)!=null&&s.call(t))&&(f=Date.now());const g=e();if(!(g.length!==r.length||g.some((v,h)=>r[h]!==v)))return i;r=g;let p;if(t.key&&((a=t.debug)!=null&&a.call(t))&&(p=Date.now()),i=n(...g),t.key&&((c=t.debug)!=null&&c.call(t))){const v=Math.round((Date.now()-f)*100)/100,h=Math.round((Date.now()-p)*100)/100,w=h/16,F=(x,G)=>{for(x=String(x);x.length<G;)x=" "+x;return x};console.info(`%câ± ${F(h,5)} /${F(v,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*w,120))}deg 100% 31%);`,t==null?void 0:t.key)}return(l=t==null?void 0:t.onChange)==null||l.call(t,i),i}return o.updateDeps=s=>{r=s},o}function wn(e,n){if(e===void 0)throw new Error("Unexpected undefined");return e}const bi=(e,n)=>Math.abs(e-n)<1.01,Fi=(e,n,t)=>{let r;return function(...i){e.clearTimeout(r),r=e.setTimeout(()=>n.apply(this,i),t)}},Ei=e=>e,Mi=e=>{const n=Math.max(e.startIndex-e.overscan,0),t=Math.min(e.endIndex+e.overscan,e.count-1),r=[];for(let i=n;i<=t;i++)r.push(i);return r},$t={passive:!0},Ii=(e,n)=>{const t=e.scrollElement;if(!t)return;const r=()=>{n({width:t.innerWidth,height:t.innerHeight})};return r(),t.addEventListener("resize",r,$t),()=>{t.removeEventListener("resize",r)}},yn=typeof window>"u"?!0:"onscrollend"in window,Pi=(e,n)=>{const t=e.scrollElement;if(!t)return;const r=e.targetWindow;if(!r)return;let i=0;const o=e.options.useScrollendEvent&&yn?()=>{}:Fi(r,()=>{n(i,!1)},e.options.isScrollingResetDelay),s=f=>()=>{i=t[e.options.horizontal?"scrollX":"scrollY"],o(),n(i,f)},a=s(!0),c=s(!1);c(),t.addEventListener("scroll",a,$t);const l=e.options.useScrollendEvent&&yn;return l&&t.addEventListener("scrollend",c,$t),()=>{t.removeEventListener("scroll",a),l&&t.removeEventListener("scrollend",c)}},ki=(e,n,t)=>{if(n!=null&&n.borderBoxSize){const r=n.borderBoxSize[0];if(r)return Math.round(r[t.options.horizontal?"inlineSize":"blockSize"])}return e[t.options.horizontal?"offsetWidth":"offsetHeight"]},Di=(e,{adjustments:n=0,behavior:t},r)=>{var i,o;const s=e+n;(o=(i=r.scrollElement)==null?void 0:i.scrollTo)==null||o.call(i,{[r.options.horizontal?"left":"top"]:s,behavior:t})};class zi{constructor(n){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let t=null;const r=()=>t||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:t=new this.targetWindow.ResizeObserver(i=>{i.forEach(o=>{const s=()=>{this._measureElement(o.target,o)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(s):s()})}));return{disconnect:()=>{var i;(i=r())==null||i.disconnect(),t=null},observe:i=>{var o;return(o=r())==null?void 0:o.observe(i,{box:"border-box"})},unobserve:i=>{var o;return(o=r())==null?void 0:o.unobserve(i)}}})(),this.range=null,this.setOptions=t=>{Object.entries(t).forEach(([r,i])=>{typeof i>"u"&&delete t[r]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:Ei,rangeExtractor:Mi,onChange:()=>{},measureElement:ki,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!1,useAnimationFrameWithResizeObserver:!1,...t}},this.notify=t=>{var r,i;(i=(r=this.options).onChange)==null||i.call(r,this,t)},this.maybeNotify=st(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),t=>{this.notify(t)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(t=>t()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var t;const r=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==r){if(this.cleanup(),!r){this.maybeNotify();return}this.scrollElement=r,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((t=this.scrollElement)==null?void 0:t.window)??null,this.elementsCache.forEach(i=>{this.observer.observe(i)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,i=>{this.scrollRect=i,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(i,o)=>{this.scrollAdjustments=0,this.scrollDirection=o?this.getScrollOffset()<i?"forward":"backward":null,this.scrollOffset=i,this.isScrolling=o,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(t,r)=>{const i=new Map,o=new Map;for(let s=r-1;s>=0;s--){const a=t[s];if(i.has(a.lane))continue;const c=o.get(a.lane);if(c==null||a.end>c.end?o.set(a.lane,a):a.end<c.end&&i.set(a.lane,!0),i.size===this.options.lanes)break}return o.size===this.options.lanes?Array.from(o.values()).sort((s,a)=>s.end===a.end?s.index-a.index:s.end-a.end)[0]:void 0},this.getMeasurementOptions=st(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled],(t,r,i,o,s)=>(this.pendingMeasuredCacheIndexes=[],{count:t,paddingStart:r,scrollMargin:i,getItemKey:o,enabled:s}),{key:!1}),this.getMeasurements=st(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:t,paddingStart:r,scrollMargin:i,getItemKey:o,enabled:s},a)=>{if(!s)return this.measurementsCache=[],this.itemSizeCache.clear(),[];this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(f=>{this.itemSizeCache.set(f.key,f.size)}));const c=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const l=this.measurementsCache.slice(0,c);for(let f=c;f<t;f++){const g=o(f),d=this.options.lanes===1?l[f-1]:this.getFurthestMeasurement(l,f),p=d?d.end+this.options.gap:r+i,v=a.get(g),h=typeof v=="number"?v:this.options.estimateSize(f),w=p+h,F=d?d.lane:f%this.options.lanes;l[f]={index:f,start:p,size:h,end:w,key:g,lane:F}}return this.measurementsCache=l,l},{key:!1,debug:()=>this.options.debug}),this.calculateRange=st(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes],(t,r,i,o)=>this.range=t.length>0&&r>0?Vi({measurements:t,outerSize:r,scrollOffset:i,lanes:o}):null,{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=st(()=>{let t=null,r=null;const i=this.calculateRange();return i&&(t=i.startIndex,r=i.endIndex),this.maybeNotify.updateDeps([this.isScrolling,t,r]),[this.options.rangeExtractor,this.options.overscan,this.options.count,t,r]},(t,r,i,o,s)=>o===null||s===null?[]:t({startIndex:o,endIndex:s,overscan:r,count:i}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=t=>{const r=this.options.indexAttribute,i=t.getAttribute(r);return i?parseInt(i,10):(console.warn(`Missing attribute name '${r}={index}' on measured element.`),-1)},this._measureElement=(t,r)=>{const i=this.indexFromElement(t),o=this.measurementsCache[i];if(!o)return;const s=o.key,a=this.elementsCache.get(s);a!==t&&(a&&this.observer.unobserve(a),this.observer.observe(t),this.elementsCache.set(s,t)),t.isConnected&&this.resizeItem(i,this.options.measureElement(t,r,this))},this.resizeItem=(t,r)=>{const i=this.measurementsCache[t];if(!i)return;const o=this.itemSizeCache.get(i.key)??i.size,s=r-o;s!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(i,s,this):i.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=s,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(i.index),this.itemSizeCache=new Map(this.itemSizeCache.set(i.key,r)),this.notify(!1))},this.measureElement=t=>{if(!t){this.elementsCache.forEach((r,i)=>{r.isConnected||(this.observer.unobserve(r),this.elementsCache.delete(i))});return}this._measureElement(t,void 0)},this.getVirtualItems=st(()=>[this.getVirtualIndexes(),this.getMeasurements()],(t,r)=>{const i=[];for(let o=0,s=t.length;o<s;o++){const a=t[o],c=r[a];i.push(c)}return i},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=t=>{const r=this.getMeasurements();if(r.length!==0)return wn(r[An(0,r.length-1,i=>wn(r[i]).start,t)])},this.getOffsetForAlignment=(t,r,i=0)=>{const o=this.getSize(),s=this.getScrollOffset();r==="auto"&&(r=t>=s+o?"end":"start"),r==="center"?t+=(i-o)/2:r==="end"&&(t-=o);const a=this.getTotalSize()+this.options.scrollMargin-o;return Math.max(Math.min(a,t),0)},this.getOffsetForIndex=(t,r="auto")=>{t=Math.max(0,Math.min(t,this.options.count-1));const i=this.measurementsCache[t];if(!i)return;const o=this.getSize(),s=this.getScrollOffset();if(r==="auto")if(i.end>=s+o-this.options.scrollPaddingEnd)r="end";else if(i.start<=s+this.options.scrollPaddingStart)r="start";else return[s,r];const a=r==="end"?i.end+this.options.scrollPaddingEnd:i.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(a,r,i.size),r]},this.isDynamicMode=()=>this.elementsCache.size>0,this.scrollToOffset=(t,{align:r="start",behavior:i}={})=>{i==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(t,r),{adjustments:void 0,behavior:i})},this.scrollToIndex=(t,{align:r="auto",behavior:i}={})=>{i==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),t=Math.max(0,Math.min(t,this.options.count-1));let o=0;const s=10,a=l=>{if(!this.targetWindow)return;const f=this.getOffsetForIndex(t,l);if(!f){console.warn("Failed to get offset for index:",t);return}const[g,d]=f;this._scrollToOffset(g,{adjustments:void 0,behavior:i}),this.targetWindow.requestAnimationFrame(()=>{const p=this.getScrollOffset(),v=this.getOffsetForIndex(t,d);if(!v){console.warn("Failed to get offset for index:",t);return}bi(v[0],p)||c(d)})},c=l=>{this.targetWindow&&(o++,o<s?this.targetWindow.requestAnimationFrame(()=>a(l)):console.warn(`Failed to scroll to index ${t} after ${s} attempts.`))};a(r)},this.scrollBy=(t,{behavior:r}={})=>{r==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+t,{adjustments:void 0,behavior:r})},this.getTotalSize=()=>{var t;const r=this.getMeasurements();let i;if(r.length===0)i=this.options.paddingStart;else if(this.options.lanes===1)i=((t=r[r.length-1])==null?void 0:t.end)??0;else{const o=Array(this.options.lanes).fill(null);let s=r.length-1;for(;s>=0&&o.some(a=>a===null);){const a=r[s];o[a.lane]===null&&(o[a.lane]=a.end),s--}i=Math.max(...o.filter(a=>a!==null))}return Math.max(i-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(t,{adjustments:r,behavior:i})=>{this.options.scrollToFn(t,{behavior:i,adjustments:r},this)},this.measure=()=>{this.itemSizeCache=new Map,this.notify(!1)},this.setOptions(n)}}const An=(e,n,t,r)=>{for(;e<=n;){const i=(e+n)/2|0,o=t(i);if(o<r)e=i+1;else if(o>r)n=i-1;else return i}return e>0?e-1:0};function Vi({measurements:e,outerSize:n,scrollOffset:t,lanes:r}){const i=e.length-1,o=c=>e[c].start;if(e.length<=r)return{startIndex:0,endIndex:i};let s=An(0,i,o,t),a=s;if(r===1)for(;a<i&&e[a].end<t+n;)a++;else if(r>1){const c=Array(r).fill(0);for(;a<i&&c.some(f=>f<t+n);){const f=e[a];c[f.lane]=f.end,a++}const l=Array(r).fill(t+n);for(;s>=0&&l.some(f=>f>=t);){const f=e[s];l[f.lane]=f.start,s--}s=Math.max(0,s-s%r),a=Math.min(i,a+(r-1-a%r))}return{startIndex:s,endIndex:a}}function Ti(e){const n=new zi(e),t=n.setOptions;let r;const i=o=>{const s={...n.options,...o,onChange:o.onChange};t({...s,onChange:(a,c)=>{var l;r.set(a),(l=s.onChange)==null||l.call(s,a,c)}}),n._willUpdate()};return r=Fn(n,()=>(i(e),n._didMount())),Rr(r,o=>Object.assign(o,{setOptions:i}))}function Ai(e){return Ti({getScrollElement:()=>typeof document<"u"?window:null,observeElementRect:Ii,observeElementOffset:Pi,scrollToFn:Di,initialOffset:()=>typeof document<"u"?window.scrollY:0,...e})}var Oi=(e,n)=>{const t=e.currentTarget.checked;n.allColumns.forEach(r=>n.onToggle(r.id,t))},Li=(e,n,t)=>n(u(t).id),Gi=P('<div class="form-control"><label class="label cursor-pointer"><span class="label-text text-sm"> </span> <input type="checkbox" class="checkbox checkbox-sm"/></label></div>'),Bi=P('<div class="dropdown dropdown-end"><div tabindex="0" role="button" class="btn btn-sm btn-outline"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="M2.036 12.322a1.012 1.012 0 010-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178z"></path><path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path></svg> Columns</div> <div class="dropdown-content z-[1] menu p-2 shadow bg-base-100 rounded-box w-52"><div class="form-control"><label class="label cursor-pointer"><span class="label-text font-medium">Toggle All</span> <input type="checkbox" class="toggle toggle-sm"/></label></div> <div class="divider my-1"></div> <!></div></div>');function Hi(e,n){Ue(n,!0);function t(l){const f=n.columnVisibility[l]??!0;n.onToggle(l,!f)}var r=Bi(),i=C(_(r),2),o=_(i),s=_(o),a=C(_(s),2);Pt(a),a.__change=[Oi,n],m(s),m(o);var c=C(o,4);Ee(c,17,()=>n.allColumns,ke,(l,f)=>{var g=Gi(),d=_(g),p=_(d),v=_(p,!0);m(p);var h=C(p,2);Pt(h),h.__change=[Li,t,f],m(d),m(g),K(()=>{H(v,u(f).header),pn(h,n.columnVisibility[u(f).id]!==!1)}),S(l,g)}),m(i),m(r),K(l=>pn(a,l),[()=>n.allColumns.every(l=>n.columnVisibility[l.id]!==!1)]),S(e,r),je()}nt(["change"]);const Ni={COLUMN_VISIBILITY:"transcript-table-visible-columns",COLUMN_SIZING:"transcript-table-column-sizing",VIEW_MODE:"transcript-viewer-view-mode",FILTER_STATE:"transcript-filter-state"},Et={HIGH_CONCERN:8,MEDIUM_CONCERN:6,LOW_CONCERN:4,MINIMAL_CONCERN:2};function Ui(e){return e>=Et.HIGH_CONCERN?"badge-error":e>=Et.MEDIUM_CONCERN?"badge-warning":e>=Et.LOW_CONCERN?"badge-info":e>=Et.MINIMAL_CONCERN?"badge-neutral":"badge-ghost"}var ji=(e,n,t)=>{var o,s;e.preventDefault(),e.stopPropagation();const r=n.row.getIsExpanded(),i=n.row.getCanExpand();if(console.log("ðŸ”„ [DEBUG] Folder toggle clicked:",{id:n.row.id,depth:n.row.depth,name:n.rowData.name,wasExpanded:r,canExpand:i,subRowsCount:((o=n.rowData.subRows)==null?void 0:o.length)||0}),i&&!u(t)){W(t,!0);try{const a=n.row.getToggleExpandedHandler();a?(a(),console.log("ðŸ”„ [DEBUG] Toggle handler called successfully"),setTimeout(()=>{const c=n.row.getIsExpanded();console.log("ðŸ”„ [DEBUG] Final toggle state:",{wasExpanded:r,newExpanded:c,changed:r!==c}),W(t,!1)},100)):(console.error("âŒ [DEBUG] Toggle handler is null!"),W(t,!1))}catch(a){console.error("âŒ [DEBUG] Error calling toggle handler:",a),W(t,!1)}}else u(t)?console.log("â³ [DEBUG] Toggle in progress, ignoring click"):console.error("âŒ [DEBUG] Row cannot expand:",{canExpand:i,hasSubRows:!!((s=n.rowData.subRows)!=null&&s.length)})},Wi=P('<div class="flex items-center gap-2"><button class="flex items-center gap-1 hover:text-primary"><svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg> <svg class="w-4 h-4 text-yellow-600 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20"><path d="M2 6a2 2 0 012-2h5l2 2h5a2 2 0 012 2v6a2 2 0 01-2 2H4a2 2 0 01-2-2V6z"></path></svg> <span class="break-words"><!></span></button></div>'),qi=P('<span class="break-words"><!></span>'),Ki=P('<span class="break-words text-sm text-base-content/80"><!></span>'),Yi=P('<span class="badge badge-outline badge-sm"> </span>'),Xi=P('<div class="flex flex-wrap gap-1"></div>'),Ji=P('<span class="text-base-content/50">â€”</span>'),Qi=P("<span> </span>"),Zi=P('<span class="text-base-content/50 break-words">â€”</span>'),$i=P('<span class="text-base-content/50 break-words">â€”</span>'),eo=P('<span class="break-words"><!></span>');function Wt(e,n){Ue(n,!0),Fe(n,"transcriptUrl",3,null);let t=Fe(n,"isGridCell",3,!1),r=Fe(n,"virtualItemSize",3,void 0),i=Fe(n,"virtualItemTransform",3,void 0),o=_e(!1);var s=ge(),a=de(s);{var c=f=>{var g=Wi(),d=_(g);d.__click=[ji,n,o];var p=_(d),v=C(p,4),h=_(v);const w=O(()=>n.cell.getContext());pt(h,{get content(){return n.cell.column.columnDef.cell},get context(){return u(w)}}),m(v),m(d),m(g),K(F=>{d.disabled=u(o),Je(p,0,`w-4 h-4 transition-transform ${F??""} flex-shrink-0`),_t(p,"data-row-id",n.row.id)},[()=>n.row.getIsExpanded()?"rotate-90":""]),S(f,g)},l=(f,g)=>{{var d=p=>{var v=ge();const h=O(()=>t()?"div":"td"),w=O(()=>t()?"px-3 py-3 overflow-x-auto overflow-y-hidden table-cell-no-scrollbar border-b border-base-200 flex items-center min-h-[60px]":"px-3 py-3 overflow-x-auto overflow-y-hidden table-cell-no-scrollbar"),F=O(()=>t()?`${r()?`height: ${r()}px;`:""} ${i()?`transform: ${i()};`:""}`:`width: ${n.cellWidth}px; min-width: ${n.cellWidth}px;`);var x=de(v);{var G=E=>{var I=ge(),V=de(I);gt(V,()=>u(h),!1,(X,q)=>{dt(X,()=>({class:`font-mono text-sm ${u(w)??""}`,style:`${u(F)??""} ${n.isFolder?"":`padding-left: ${n.row.depth*20+12}px;`}`}));var ne=qi(),Z=_(ne);const pe=O(()=>n.cell.getContext());pt(Z,{get content(){return n.cell.column.columnDef.cell},get context(){return u(pe)}}),m(ne),S(q,ne)}),S(E,I)},k=(E,I)=>{{var V=q=>{var ne=ge(),Z=de(ne);gt(Z,()=>u(h),!1,(pe,B)=>{dt(pe,()=>({class:u(w),style:u(F)}));var te=Ki(),re=_(te);const we=O(()=>n.cell.getContext());pt(re,{get content(){return n.cell.column.columnDef.cell},get context(){return u(we)}}),m(te),S(B,te)}),S(q,ne)},X=(q,ne)=>{{var Z=B=>{var te=ge(),re=de(te);gt(re,()=>u(h),!1,(we,T)=>{dt(we,()=>({class:u(w),style:u(F)}));var A=ge(),J=de(A);{var oe=M=>{var N=Xi();Ee(N,21,()=>n.rowData.tags,ke,(ie,ee)=>{var $=Yi(),le=_($,!0);m($),K(()=>H(le,u(ee))),S(ie,$)}),m(N),S(M,N)},R=M=>{var N=Ji();S(M,N)};L(J,M=>{n.rowData.tags&&n.rowData.tags.length>0?M(oe):M(R,!1)})}S(T,A)}),S(B,te)},pe=(B,te)=>{{var re=T=>{var A=ge();const J=O(()=>n.cell.getValue());var oe=de(A);gt(oe,()=>u(h),!1,(R,M)=>{dt(R,()=>({class:`text-center ${u(w)??""}`,style:u(F)}));var N=ge(),ie=de(N);{var ee=le=>{var ue=ge();const ve=O(()=>typeof u(J)=="string"?parseFloat(u(J)):u(J));var ze=de(ue);{var Me=y=>{var b=Qi(),Y=_(b);m(b),K(se=>{Je(b,1,`badge ${se??""} badge-sm font-mono break-words`),H(Y,`${u(ve)??""}/10`)},[()=>Ui(u(ve))]),S(y,b)},Ve=y=>{var b=Zi();S(y,b)};L(ze,y=>{isNaN(u(ve))?y(Ve,!1):y(Me)})}S(le,ue)},$=le=>{var ue=$i();S(le,ue)};L(ie,le=>{u(J)!==null&&u(J)!==void 0&&u(J)!=="â€”"?le(ee):le($,!1)})}S(M,N)}),S(T,A)},we=T=>{var A=ge(),J=de(A);gt(J,()=>u(h),!1,(oe,R)=>{dt(oe,()=>({class:u(w),style:u(F)}));var M=eo(),N=_(M);const ie=O(()=>n.cell.getContext());pt(N,{get content(){return n.cell.column.columnDef.cell},get context(){return u(ie)}}),m(M),S(R,M)}),S(T,A)};L(B,T=>{n.cell.column.id.startsWith("score_")||n.cell.column.id==="concerningScore"?T(re):T(we,!1)},te)}};L(q,B=>{n.cell.column.id==="tags"?B(Z):B(pe,!1)},ne)}};L(E,q=>{n.cell.column.id==="summary"?q(V):q(X,!1)},I)}};L(x,E=>{n.cell.column.id==="id"?E(G):E(k,!1)})}S(p,v)};L(f,p=>{n.isFolder||p(d)},g)}};L(a,f=>{n.cell.column.id==="id"&&n.isFolder?f(c):f(l,!1)})}S(e,s),je()}nt(["click"]);var to=P('<div class="tooltip tooltip-bottom"><span class="cursor-help"> </span></div>'),no=P("<span> </span>");function ro(e,n){var t=ge(),r=de(t);{var i=s=>{var a=to(),c=_(a),l=_(c,!0);m(c),m(a),K(()=>{_t(a,"data-tip",n.tooltip),H(l,n.title)}),S(s,a)},o=s=>{var a=no(),c=_(a,!0);m(a),K(()=>H(c,n.title)),S(s,a)};L(r,s=>{n.tooltip?s(i):s(o,!1)})}S(e,t)}function io(e){let n=100;const t=12,r=20,i=8,o=24;function s(c,l=0){for(const f of c){let g=0;if(f.type==="folder")g=(f.name||"Folder").length;else{const v=f.id?String(f.id).split("_").pop():"";g=v?`#${v}`.length:0}const d=t+l*r,p=g*i+d+o;n=Math.max(n,p),f.subRows&&f.subRows.length>0&&s(f.subRows,l+1)}}s(e);const a=Math.min(n,400);return console.log("ðŸ“ [DEBUG] ID column width calculation:",{calculatedWidth:n,finalWidth:a,dataLength:e.length}),a}function Sn(e,n=[],t={}){const r=io(n),i=[{id:"id",accessorKey:"id",header:"ID",cell:({row:s,getValue:a})=>{const c=a();return s.original.type==="folder"?s.original.name||"Folder":c?`#${String(c).split("_").pop()}`:""},enableSorting:!0,enableResizing:!0,size:r,minSize:100},{id:"model",accessorKey:"model",header:"Model",cell:({row:s,getValue:a})=>s.original.type==="folder"?"":a(),enableSorting:!0,enableResizing:!0,size:150,minSize:70},{id:"tags",accessorKey:"tags",header:"Tags",cell:({row:s})=>s.original.type==="folder"?"":(s.original.tags||[]).join(", "),filterFn:(s,a,c)=>{if(s.original.type==="folder")return!0;const l=Array.isArray(c)?c:[];if(!l||l.length===0)return!0;const f=Array.isArray(s.original.tags)?s.original.tags:[];return l.some(g=>f.includes(g))},enableSorting:!1,enableResizing:!0,size:220,minSize:120},{id:"summary",accessorKey:"summary",header:"Summary",cell:({row:s,getValue:a})=>{if(s.original.type==="folder")return"";const c=a();return c?c.length>150?c.slice(0,150)+"...":c:""},enableSorting:!1,enableResizing:!0,size:400,minSize:120}],o=e.map(s=>{const a=s.replace(/_/g," ").replace(/\b\w/g,f=>f.toUpperCase()),c=t[s],l=c?Fr(c):void 0;return{id:`score_${s}`,accessorFn:f=>{var g;return(g=f.scores)==null?void 0:g[s]},header:a,meta:{tooltip:l},cell:({row:f,getValue:g})=>{if(f.original.type==="folder")return"";const d=g();return d!==void 0?`${d}/10`:""},enableSorting:!0,enableResizing:!0,size:120,minSize:50}});return[...i,...o]}function oo(e){return[{id:"id",header:"ID"},{id:"model",header:"Model"},{id:"tags",header:"Tags"},{id:"split",header:"Split"},{id:"concerningScore",header:"Concerning Score"},{id:"summary",header:"Summary"},{id:"judgeSummary",header:"Judge Summary"},...e.map(n=>({id:`score_${n}`,header:n.replace(/_/g," ").replace(/\b\w/g,t=>t.toUpperCase())}))]}function so(e){return{id:e.id,name:e.summary.substring(0,50)+(e.summary.length>50?"...":""),path:e.id,type:"transcript",model:e.model,split:e.split,summary:e.summary,scores:e.scores,concerningScore:e.concerningScore,judgeSummary:e.judgeSummary,justification:e.justification,tags:e.tags,originalTranscript:e}}function lo(e){return e.map(so)}var ao=(e,n,t)=>n(u(t)),uo=P('<span class="badge badge-outline gap-1"><button class="btn btn-ghost btn-xs px-1" aria-label="Remove tag">âœ•</button> <span> </span></span>'),co=P('<span class="text-xs text-base-content/50">No filter</span>'),go=P('<li class="text-xs text-base-content/50 px-2 py-1">No more tags</li>'),fo=(e,n,t)=>{n(u(t))},ho=P('<li><button class="text-sm" role="option" aria-selected="false"> </button></li>'),po=(e,n)=>{n()},vo=P('<div class="flex items-center gap-2 w-full"><span class="text-sm font-medium whitespace-nowrap">Tags</span> <div class="flex-1 min-w-0"><div class="flex flex-wrap gap-1"><!> <!></div></div> <div class="dropdown dropdown-end"><div tabindex="0" role="button" class="btn btn-xs" aria-haspopup="listbox">Add</div> <ul tabindex="-1" role="listbox" class="dropdown-content z-50 menu p-2 shadow bg-base-100 rounded-box w-56 max-h-60 overflow-auto"><!> <li class="mt-1"><button class="btn btn-ghost btn-xs w-full">Clear</button></li></ul></div></div>');function mo(e,n){Ue(n,!0);let t=Fe(n,"allTags",19,()=>[]),r=O(()=>{var I,V;const E=(V=(I=n.column)==null?void 0:I.getFilterValue)==null?void 0:V.call(I);return Array.isArray(E)?E:[]});function i(E){if(!n.column)return;const I=Array.from(new Set([...u(r)||[],E]));n.column.setFilterValue(I)}function o(E){if(!n.column)return;const I=(u(r)||[]).filter(V=>V!==E);n.column.setFilterValue(I.length?I:void 0)}function s(){var E,I;(I=(E=n.column)==null?void 0:E.setFilterValue)==null||I.call(E,void 0)}let a=O(()=>{const E=new Set(u(r)||[]);return(t()||[]).filter(I=>!E.has(I))});var c=vo(),l=C(_(c),2),f=_(l),g=_(f);Ee(g,17,()=>u(r)||[],ke,(E,I)=>{var V=uo(),X=_(V);X.__click=[ao,o,I];var q=C(X,2),ne=_(q,!0);m(q),m(V),K(()=>H(ne,u(I))),S(E,V)});var d=C(g,2);{var p=E=>{var I=co();S(E,I)};L(d,E=>{(!u(r)||u(r).length===0)&&E(p)})}m(f),m(l);var v=C(l,2),h=C(_(v),2),w=_(h);{var F=E=>{var I=go();S(E,I)},x=E=>{var I=ge(),V=de(I);Ee(V,17,()=>u(a),ke,(X,q)=>{var ne=ho(),Z=_(ne);Z.__click=[fo,i,q];var pe=_(Z,!0);m(Z),m(ne),K(()=>H(pe,u(q))),S(X,ne)}),S(E,I)};L(w,E=>{u(a).length===0?E(F):E(x,!1)})}var G=C(w,2),k=_(G);k.__click=[po,s],m(G),m(h),m(v),m(c),S(e,c),je()}nt(["click"]);function _o(e){if(!(typeof window>"u"))try{const n=Object.entries(e).filter(([t,r])=>r).map(([t,r])=>t);localStorage.setItem(Ni.COLUMN_VISIBILITY,JSON.stringify(n))}catch(n){console.warn("Failed to save column visibility to localStorage:",n)}}var wo=P('<div class="flex items-center gap-2 overflow-hidden h-full w-full"><!></div>'),yo=(e,n,t)=>n(u(t).column,e),So=rn('<svg class="w-3 h-3 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 15l7-7 7 7"></path></svg>'),xo=rn('<svg class="w-3 h-3 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>'),Co=rn('<svg class="w-3 h-3 opacity-50 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16V4m0 0L3 8m4-4l4 4m6 0v12m0 0l4-4m-4 4l-4-4"></path></svg>'),Ro=P('<div class="flex items-center gap-2 overflow-hidden h-full w-full"><button type="button"><!> <!></button></div>'),bo=P('<button class="absolute top-2 right-0 w-1 h-8 cursor-col-resize bg-base-300/60 hover:bg-primary/70 transition-colors border-0 p-0 rounded-sm" style="user-select: none; touch-action: none;" aria-label="Resize column" type="button"></button>'),Fo=P("<!> <!>",1),Eo=P('<div class="px-3 py-3 text-left bg-base-200 flex items-center justify-between h-12" style="position: relative;"><!></div>'),Mo=P('<div class="absolute hover:bg-base-200/50 bg-base-100 font-medium border-b border-base-200 flex items-center px-3 py-2"><!></div>'),Io=P('<a class="absolute hover:bg-base-200/50 block"><div class="w-full h-full"></div></a>'),Po=P('<div class="absolute"></div>'),ko=P('<div class="p-4 text-center text-base-content/70">Loading table...</div>'),Do=P('<div class="w-full"><div class="flex justify-between items-center mb-4"><div class="flex items-center gap-2"><span class="text-sm text-base-content/70"> </span></div> <div class="flex items-center gap-2"><!></div></div> <div class="border border-base-300 rounded-lg overflow-hidden"><div class="w-full overflow-x-auto"><div class="relative"><div class="sticky top-0 bg-base-200 z-20 border-b border-base-300"><div class="w-full"></div></div> <div class="relative"><!></div></div></div></div></div>');function zo(e,n){Ue(n,!0);const[t,r]=Rn(),i=()=>Kt(V,"$options",t),o=()=>Kt(u(ne),"$virtualizer",t);let s=Fe(n,"transcripts",19,()=>[]),a=Fe(n,"folderTree",19,()=>[]),c=Fe(n,"scoreTypes",19,()=>[]),l=Fe(n,"scoreDescriptions",19,()=>({})),f=Fe(n,"viewMode",3,"list"),g=Fe(n,"currentPath",3,null);Fe(n,"onTranscriptClick",3,()=>{});let d,p=O(()=>f()==="list"?lo(s()):a()),v=_e(Be({}));const h=y=>{console.log("ðŸ”„ [DEBUG] onExpandedChange called with:",typeof y);let b;typeof y=="function"?b=y(u(v)):b=y,console.log("ðŸ” [DEBUG] Expanded state changing from:",ot(u(v)),"to:",ot(b)),W(v,b,!0)};let w=_e(Be({}));const F=y=>{console.log("ðŸ“ [DEBUG] onColumnSizingChange called with:",typeof y);let b;typeof y=="function"?b=y(u(w)):b=y,console.log("ðŸ“ [DEBUG] Column sizing changing from:",ot(u(w)),"to:",ot(b)),W(w,b,!0)};let x=_e(Be([])),G=_e(Be([]));const k=y=>{const b=ot(u(x)),Y=y instanceof Function?y(u(x)):y;console.log("ðŸ”€ [DEBUG] onSortingChange:",{updaterType:typeof y,previous:b,next:Y}),W(x,Y,!0)},E=y=>{let b;typeof y=="function"?b=y(u(G)):b=y,W(G,b,!0)};function I(y,b){var ye;if(!((ye=y==null?void 0:y.getCanSort)!=null&&ye.call(y)))return;const Y=!!b.shiftKey&&u(X).getState().sorting.length>0&&u(X).options.enableMultiSort,se=y.getIsSorted(),ae=se==="asc"?"desc":se==="desc"?!1:"asc",U=u(X).getState().sorting;let fe;if(Y){const be=U.filter(Te=>Te.id!==y.id);ae===!1?fe=be:fe=[...be,{id:y.id,desc:ae==="desc"}]}else fe=ae===!1?[]:[{id:y.id,desc:ae==="desc"}];console.log("ðŸ–±ï¸ [DEBUG] Header click sorting:",{columnId:y.id,isMulti:Y,current:se,currentSorting:U,next:ae,nextSorting:fe}),u(X).setSorting(fe)}Ge(()=>{console.log("ðŸ”€ [DEBUG] Local sorting state now:",ot(u(x)))});let V=Fn({data:[],columns:Sn(c()||[],[],l()||{}),getCoreRowModel:pi(),getFilteredRowModel:Si(),getSortedRowModel:xi(),getExpandedRowModel:vi(),getSubRows:y=>y.subRows,getRowCanExpand:y=>{var Y,se,ae;const b=y.original.type==="folder"&&(((Y=y.original.subRows)==null?void 0:Y.length)||0)>0;return y.original.type==="folder"&&console.log("ðŸ” [DEBUG] getRowCanExpand check:",{id:y.id,depth:y.depth,name:y.original.name,hasSubRows:!!((se=y.original.subRows)!=null&&se.length),subRowsCount:((ae=y.original.subRows)==null?void 0:ae.length)||0,canExpand:b}),b},getRowId:y=>y.path||y.id,enableColumnResizing:!0,columnResizeMode:"onChange",columnResizeDirection:"ltr",enableSorting:!0,enableMultiSort:!0,enableExpanding:!0,state:{expanded:{},columnSizing:{},sorting:[],columnFilters:[]},onExpandedChange:h,onColumnSizingChange:F,onSortingChange:k,onColumnFiltersChange:E}),X=O(()=>Ri(i()));Ge(()=>{const y=u(p)||[],b=Sn(c()||[],y,l()||{});V.update(Y=>({...Y,data:y,columns:b}))}),Ge(()=>{V.update(y=>({...y,state:{...y.state,expanded:u(v),columnSizing:u(w),sorting:u(x),columnFilters:u(G)}}))}),Ge(()=>{}),Ge(()=>{}),Ge(()=>{});let q=_e(0);Ge(()=>{if(!d)return;function y(){if(d){const b=d.getBoundingClientRect();W(q,b.top+window.scrollY)}}return y(),window.addEventListener("resize",y),()=>{window.removeEventListener("resize",y)}});let ne=O(()=>{const y=u(X).getRowModel().rows;return Ai({count:y.length,estimateSize:b=>{var Y,se;return((se=(Y=y[b])==null?void 0:Y.original)==null?void 0:se.type)==="folder"?40:60},gap:2,overscan:10,scrollMargin:u(q)})}),Z=O(()=>(u(w),u(X).getVisibleLeafColumns().map(b=>b.getSize()))),pe=O(()=>{const y=new Set;return(s()||[]).forEach(b=>{if(Array.isArray(b.tags))for(const Y of b.tags)Y&&typeof Y=="string"&&y.add(Y)}),Array.from(y).sort((b,Y)=>b.localeCompare(Y))}),B=O(()=>u(Z).reduce((y,b)=>y+b,0));Ge(()=>{});function te(y){if(y.type==="transcript"&&y.originalTranscript&&y.originalTranscript._filePath){const b=yr(y.originalTranscript._filePath);if(!b)return null;const Y=g()?`${g()}/${b}`:b;return Sr(Y)}return null}function re(y,b){const se={...u(X).getState().columnVisibility,[y]:b};u(X).setColumnVisibility(se),_o(se)}let we=O(()=>oo(c()));var T=Do(),A=_(T),J=_(A),oe=_(J),R=_(oe);m(oe),m(J);var M=C(J,2),N=_(M);Hi(N,{get columnVisibility(){return u(X).getState().columnVisibility},get allColumns(){return u(we)},onToggle:re}),m(M),m(A);var ie=C(A,2),ee=_(ie),$=_(ee),le=_($),ue=_(le);Ee(ue,21,()=>u(X).getHeaderGroups(),ke,(y,b)=>{var Y=ge(),se=de(Y);Ee(se,17,()=>u(b).headers,ke,(ae,U,fe)=>{var ye=Eo(),be=_(ye);{var Te=We=>{var rt=Fo(),Ze=de(rt);{var Le=me=>{var j=wo(),Q=_(j);mo(Q,{get column(){return u(U).column},get allTags(){return u(pe)}}),m(j),S(me,j)},Ae=me=>{var j=Ro(),Q=_(j);Q.__click=[yo,I,U];var ce=_(Q);{var Re=Se=>{var Pe=ge(),ct=de(Pe);{var zt=qe=>{var Vt=So();S(qe,Vt)},Ct=(qe,Vt)=>{{var Wn=it=>{var Tt=xo();S(it,Tt)},qn=it=>{var Tt=Co();S(it,Tt)};L(qe,it=>{u(U).column.getIsSorted()==="desc"?it(Wn):it(qn,!1)},Vt)}};L(ct,qe=>{u(U).column.getIsSorted()==="asc"?qe(zt):qe(Ct,!1)})}S(Se,Pe)};L(ce,Se=>{u(U).column.getCanSort()&&Se(Re)})}var Ie=C(ce,2);{var et=Se=>{const Pe=O(()=>String(u(U).column.columnDef.header));ro(Se,{get title(){return u(Pe)},get tooltip(){return u(U).column.columnDef.meta.tooltip}})},Dt=Se=>{const Pe=O(()=>u(U).getContext());pt(Se,{get content(){return u(U).column.columnDef.header},get context(){return u(Pe)}})};L(Ie,Se=>{var Pe;u(U).column.id.startsWith("score_")&&((Pe=u(U).column.columnDef.meta)!=null&&Pe.tooltip)?Se(et):Se(Dt,!1)})}m(Q),m(j),K((Se,Pe)=>{Je(Q,1,`flex items-center gap-2 hover:text-primary ${Se??""} text-sm font-medium whitespace-nowrap`),Q.disabled=Pe},[()=>u(U).column.getCanSort()?"cursor-pointer":"",()=>!u(U).column.getCanSort()]),S(me,j)};L(Ze,me=>{u(U).column.id==="tags"?me(Le):me(Ae,!1)})}var $e=C(Ze,2);{var ut=me=>{var j=bo(),Q=O(()=>u(U).getResizeHandler());j.__mousedown=function(...Re){var Ie;(Ie=u(Q))==null||Ie.apply(this,Re)};var ce=O(()=>u(U).getResizeHandler());j.__touchstart=function(...Re){var Ie;(Ie=u(ce))==null||Ie.apply(this,Re)},S(me,j)};L($e,me=>{u(U).column.getCanResize()&&me(ut)})}S(We,rt)};L(be,We=>{u(U).isPlaceholder||We(Te)})}m(ye),S(ae,ye)}),S(y,Y)}),m(ue),m(le);var ve=C(le,2),ze=_(ve);{var Me=y=>{var b=ge(),Y=de(b);Ee(Y,1,()=>{var se;return((se=o())==null?void 0:se.getVirtualItems())||[]},se=>{var ae;return(ae=u(X).getRowModel().rows[se.index])==null?void 0:ae.id},(se,ae)=>{var U=ge();const fe=O(()=>u(X).getRowModel().rows[u(ae).index]),ye=O(()=>u(fe).original),be=O(()=>u(ye).type==="folder"),Te=O(()=>!u(be)&&u(ye).originalTranscript?te(u(ye)):null);var We=de(U);{var rt=Le=>{var Ae=Mo(),$e=_(Ae);Wt($e,{get cell(){return u(fe).getVisibleCells()[0]},get row(){return u(fe)},get rowData(){return u(ye)},get cellWidth(){return u(B)},get isFolder(){return u(be)},get transcriptUrl(){return u(Te)}}),m(Ae),K(()=>tt(Ae,`
                  top: ${u(ae).start-u(q)}px;
                  height: 40px; 
                  width: ${u(B)??""}px;
                  min-width: ${u(B)??""}px;
                  padding-left: ${u(fe).depth*20+12}px;
                `)),S(Le,Ae)},Ze=(Le,Ae)=>{{var $e=me=>{var j=Io(),Q=_(j);Ee(Q,21,()=>u(fe).getVisibleCells(),ke,(ce,Re,Ie)=>{const et=O(()=>u(Z)[Ie]||150);Wt(ce,{get cell(){return u(Re)},get row(){return u(fe)},get rowData(){return u(ye)},get cellWidth(){return u(et)},get isFolder(){return u(be)},get transcriptUrl(){return u(Te)},isGridCell:!0})}),m(Q),m(j),K(ce=>{_t(j,"href",u(Te)),tt(j,`
                  top: ${u(ae).start-u(q)}px;
                  height: ${u(ae).size??""}px;
                  width: ${u(B)??""}px;
                  min-width: ${u(B)??""}px;
                `),tt(Q,`
                    display: grid; 
                    grid-template-columns: ${ce??""};
                    min-width: ${u(B)??""}px;
                  `)},[()=>u(Z).map(ce=>`${ce}px`).join(" ")]),S(me,j)},ut=me=>{var j=Po();Ee(j,21,()=>u(fe).getVisibleCells(),ke,(Q,ce,Re)=>{const Ie=O(()=>u(Z)[Re]||150);Wt(Q,{get cell(){return u(ce)},get row(){return u(fe)},get rowData(){return u(ye)},get cellWidth(){return u(Ie)},get isFolder(){return u(be)},get transcriptUrl(){return u(Te)},isGridCell:!0})}),m(j),K(Q=>tt(j,`
                  top: ${u(ae).start-u(q)}px;
                  height: ${u(ae).size??""}px;
                  width: ${u(B)??""}px;
                  min-width: ${u(B)??""}px;
                  display: grid; 
                  grid-template-columns: ${Q??""};
                `),[()=>u(Z).map(Q=>`${Q}px`).join(" ")]),S(me,j)};L(Le,me=>{u(Te)?me($e):me(ut,!1)},Ae)}};L(We,Le=>{u(be)?Le(rt):Le(Ze,!1)})}S(se,U)}),S(y,b)},Ve=y=>{var b=ko();S(y,b)};L(ze,y=>{u(ne)?y(Me):y(Ve,!1)})}m(ve),bn(ve,y=>d=y,()=>d),m($),m(ee),m(ie),m(T),K((y,b,Y)=>{H(R,`${y??""} ${f()==="tree"?"items":"transcripts"}`),tt($,`min-width: ${u(B)??""}px;`),tt(ue,`
              display: grid; 
              grid-template-columns: ${b??""};
              min-width: ${u(B)??""}px;
            `),tt(ve,`height: ${Y??""}px; min-width: ${u(B)??""}px;`)},[()=>u(X).getRowModel().rows.length,()=>u(Z).map(y=>`${y}px`).join(" "),()=>u(ne)?o().getTotalSize():0]),S(e,T),je(),r()}nt(["click","mousedown","touchstart"]);var wt;class un{constructor(n,t){dn(this,wt,_e());Ke(this,"key","");Ke(this,"initialized",!1);this.key=n,this.value=t;{const r=localStorage.getItem(n);r&&(this.value=this.deserialize(r))}}get value(){return u(At(this,wt))}set value(n){W(At(this,wt),n,!0)}init(){this.initialized||(this.initialized=!0,Ge(()=>{{const n=this.serialize(this.value);console.log(`LocalStore[${this.key}] saving:`,n),localStorage.setItem(this.key,n)}}))}serialize(n){return JSON.stringify(n)}deserialize(n){return JSON.parse(n)}}wt=new WeakMap;const Ce=new un("homepage-filters",{filterExpression:"",searchQuery:""}),Ne=new un("homepage-view",{viewMode:"tree"}),Vo=new un("transcript-view-settings",{selectedView:"combined",showApiFailures:!1,showSharedHistory:!1,showSystemPrompt:!1,availableViews:[]});function To(){Ce.init(),Ne.init(),Vo.init()}var On=function(){var e={trace:function(){},yy:{},symbols_:{error:2,expressions:3,e:4,EndOfExpression:5,"-":6,"+":7,"*":8,"/":9,"^":10,mod:11,and:12,or:13,not:14,if:15,then:16,else:17,in:18,notIn:19,"(":20,")":21,Arguments:22,",":23,Number:24,Symbol:25,String:26,of:27,Relation:28,"%":29,"?":30,":":31,RelationalOperator:32,"==":33,"!=":34,"~=":35,"<":36,"<=":37,">=":38,">":39,$accept:0,$end:1},terminals_:{2:"error",5:"EndOfExpression",6:"-",7:"+",8:"*",9:"/",10:"^",11:"mod",12:"and",13:"or",14:"not",15:"if",16:"then",17:"else",18:"in",19:"notIn",20:"(",21:")",23:",",24:"Number",25:"Symbol",26:"String",27:"of",29:"%",30:"?",31:":",33:"==",34:"!=",35:"~=",36:"<",37:"<=",38:">=",39:">"},productions_:[0,[3,2],[4,2],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,2],[4,6],[4,3],[4,3],[4,3],[4,5],[4,1],[4,1],[4,1],[4,3],[4,3],[4,4],[4,1],[4,3],[4,5],[32,1],[32,1],[32,1],[32,1],[32,1],[32,1],[32,1],[28,3],[28,3],[22,1],[22,3]],performAction:function(i,o,s,a,c,l,f){var g=l.length-1;switch(c){case 1:return l[g-1];case 2:this.$=["(","ops['-'](",l[g],")",")"];break;case 3:this.$=["(","ops['",l[g-1],"'](",l[g-2],", ",l[g],")",")"];break;case 4:this.$=["(","ops['",l[g-1],"'](",l[g-2],", ",l[g],")",")"];break;case 5:this.$=["(","ops['",l[g-1],"'](",l[g-2],", ",l[g],")",")"];break;case 6:this.$=["(","ops['",l[g-1],"'](",l[g-2],", ",l[g],")",")"];break;case 7:this.$=["(","ops['",l[g-1],"'](",l[g-2],", ",l[g],")",")"];break;case 8:this.$=["(","ops.mod(",l[g-2],", ",l[g],")",")"];break;case 9:this.$=["(","","std.coerceBoolean","(",l[g-2],") && ","std.coerceBoolean","(",l[g],")",")"];break;case 10:this.$=["(","","std.coerceBoolean","(",l[g-2],") || ","std.coerceBoolean","(",l[g],")",")"];break;case 11:this.$=["(","! ","std.coerceBoolean","(",l[g],")",")"];break;case 12:this.$=["(","","std.coerceBoolean","(",l[g-4],") ? ",l[g-2]," : ",l[g],"",")"];break;case 13:this.$=["(","std.isSubset(",l[g-2],", ",l[g],")",")"];break;case 14:this.$=["(","!std.isSubset(",l[g-2],", ",l[g],")",")"];break;case 15:this.$=["(","",l[g-1],"",")"];break;case 16:this.$=["(","[ ",l[g-3],", ",l[g-1]," ]",")"];break;case 17:this.$=["",l[g],""];break;case 18:this.$=["prop(",l[g],", data)"];break;case 19:this.$=["",l[g],""];break;case 20:this.$=["prop(",l[g-2],", ",l[g],")"];break;case 21:this.$=["call(",l[g-2],")"];break;case 22:this.$=["call(",l[g-3],", ",l[g-1],")"];break;case 23:this.$=a.reduceRelation(l[g]);break;case 24:this.$=["std.warnDeprecated('modulo', ops['mod'](",l[g-2],", ",l[g],"))"];break;case 25:this.$=["std.warnDeprecated('ternary', ","std.coerceBoolean","(",l[g-4],") ? ",l[g-2]," : ",l[g],")"];break;case 26:this.$=["=="];break;case 27:this.$=["!="];break;case 28:this.$=["~="];break;case 29:this.$=["<"];break;case 30:this.$=["<="];break;case 31:this.$=[">="];break;case 32:this.$=[">"];break;case 33:this.$=[l[g-2],l[g-1],...l[g]];break;case 34:this.$=[l[g-2],l[g-1],l[g]];break;case 35:this.$=["",l[g],""];break;case 36:this.$=["",l[g-2],", ",l[g],""];break}},table:[{3:1,4:2,6:[1,3],14:[1,4],15:[1,5],20:[1,6],24:[1,7],25:[1,8],26:[1,9],28:10},{1:[3]},{5:[1,11],6:[1,13],7:[1,12],8:[1,14],9:[1,15],10:[1,16],11:[1,17],12:[1,18],13:[1,19],18:[1,20],19:[1,21],29:[1,22],30:[1,23],32:24,33:[1,25],34:[1,26],35:[1,27],36:[1,28],37:[1,29],38:[1,30],39:[1,31]},{4:32,6:[1,3],14:[1,4],15:[1,5],20:[1,6],24:[1,7],25:[1,8],26:[1,9],28:10},{4:33,6:[1,3],14:[1,4],15:[1,5],20:[1,6],24:[1,7],25:[1,8],26:[1,9],28:10},{4:34,6:[1,3],14:[1,4],15:[1,5],20:[1,6],24:[1,7],25:[1,8],26:[1,9],28:10},{4:35,6:[1,3],14:[1,4],15:[1,5],20:[1,6],22:36,24:[1,7],25:[1,8],26:[1,9],28:10},{5:[2,17],6:[2,17],7:[2,17],8:[2,17],9:[2,17],10:[2,17],11:[2,17],12:[2,17],13:[2,17],16:[2,17],17:[2,17],18:[2,17],19:[2,17],21:[2,17],23:[2,17],29:[2,17],30:[2,17],31:[2,17],33:[2,17],34:[2,17],35:[2,17],36:[2,17],37:[2,17],38:[2,17],39:[2,17]},{5:[2,18],6:[2,18],7:[2,18],8:[2,18],9:[2,18],10:[2,18],11:[2,18],12:[2,18],13:[2,18],16:[2,18],17:[2,18],18:[2,18],19:[2,18],20:[1,38],21:[2,18],23:[2,18],27:[1,37],29:[2,18],30:[2,18],31:[2,18],33:[2,18],34:[2,18],35:[2,18],36:[2,18],37:[2,18],38:[2,18],39:[2,18]},{5:[2,19],6:[2,19],7:[2,19],8:[2,19],9:[2,19],10:[2,19],11:[2,19],12:[2,19],13:[2,19],16:[2,19],17:[2,19],18:[2,19],19:[2,19],21:[2,19],23:[2,19],29:[2,19],30:[2,19],31:[2,19],33:[2,19],34:[2,19],35:[2,19],36:[2,19],37:[2,19],38:[2,19],39:[2,19]},{5:[2,23],6:[2,23],7:[2,23],8:[2,23],9:[2,23],10:[2,23],11:[2,23],12:[2,23],13:[2,23],16:[2,23],17:[2,23],18:[2,23],19:[2,23],21:[2,23],23:[2,23],29:[2,23],30:[2,23],31:[2,23],33:[2,23],34:[2,23],35:[2,23],36:[2,23],37:[2,23],38:[2,23],39:[2,23]},{1:[2,1]},{4:39,6:[1,3],14:[1,4],15:[1,5],20:[1,6],24:[1,7],25:[1,8],26:[1,9],28:10},{4:40,6:[1,3],14:[1,4],15:[1,5],20:[1,6],24:[1,7],25:[1,8],26:[1,9],28:10},{4:41,6:[1,3],14:[1,4],15:[1,5],20:[1,6],24:[1,7],25:[1,8],26:[1,9],28:10},{4:42,6:[1,3],14:[1,4],15:[1,5],20:[1,6],24:[1,7],25:[1,8],26:[1,9],28:10},{4:43,6:[1,3],14:[1,4],15:[1,5],20:[1,6],24:[1,7],25:[1,8],26:[1,9],28:10},{4:44,6:[1,3],14:[1,4],15:[1,5],20:[1,6],24:[1,7],25:[1,8],26:[1,9],28:10},{4:45,6:[1,3],14:[1,4],15:[1,5],20:[1,6],24:[1,7],25:[1,8],26:[1,9],28:10},{4:46,6:[1,3],14:[1,4],15:[1,5],20:[1,6],24:[1,7],25:[1,8],26:[1,9],28:10},{4:47,6:[1,3],14:[1,4],15:[1,5],20:[1,6],24:[1,7],25:[1,8],26:[1,9],28:10},{4:48,6:[1,3],14:[1,4],15:[1,5],20:[1,6],24:[1,7],25:[1,8],26:[1,9],28:10},{4:49,6:[1,3],14:[1,4],15:[1,5],20:[1,6],24:[1,7],25:[1,8],26:[1,9],28:10},{4:50,6:[1,3],14:[1,4],15:[1,5],20:[1,6],24:[1,7],25:[1,8],26:[1,9],28:10},{4:52,6:[1,3],14:[1,4],15:[1,5],20:[1,6],24:[1,7],25:[1,8],26:[1,9],28:51},{6:[2,26],14:[2,26],15:[2,26],20:[2,26],24:[2,26],25:[2,26],26:[2,26]},{6:[2,27],14:[2,27],15:[2,27],20:[2,27],24:[2,27],25:[2,27],26:[2,27]},{6:[2,28],14:[2,28],15:[2,28],20:[2,28],24:[2,28],25:[2,28],26:[2,28]},{6:[2,29],14:[2,29],15:[2,29],20:[2,29],24:[2,29],25:[2,29],26:[2,29]},{6:[2,30],14:[2,30],15:[2,30],20:[2,30],24:[2,30],25:[2,30],26:[2,30]},{6:[2,31],14:[2,31],15:[2,31],20:[2,31],24:[2,31],25:[2,31],26:[2,31]},{6:[2,32],14:[2,32],15:[2,32],20:[2,32],24:[2,32],25:[2,32],26:[2,32]},{5:[2,2],6:[2,2],7:[2,2],8:[2,2],9:[2,2],10:[1,16],11:[2,2],12:[2,2],13:[2,2],16:[2,2],17:[2,2],18:[2,2],19:[2,2],21:[2,2],23:[2,2],29:[2,2],30:[2,2],31:[2,2],32:24,33:[2,2],34:[2,2],35:[2,2],36:[2,2],37:[2,2],38:[2,2],39:[2,2]},{5:[2,11],6:[2,11],7:[2,11],8:[2,11],9:[2,11],10:[1,16],11:[2,11],12:[2,11],13:[2,11],16:[2,11],17:[2,11],18:[2,11],19:[2,11],21:[2,11],23:[2,11],29:[2,11],30:[2,11],31:[2,11],32:24,33:[2,11],34:[2,11],35:[2,11],36:[2,11],37:[2,11],38:[2,11],39:[2,11]},{6:[1,13],7:[1,12],8:[1,14],9:[1,15],10:[1,16],11:[1,17],12:[1,18],13:[1,19],16:[1,53],18:[1,20],19:[1,21],29:[1,22],30:[1,23],32:24,33:[1,25],34:[1,26],35:[1,27],36:[1,28],37:[1,29],38:[1,30],39:[1,31]},{6:[1,13],7:[1,12],8:[1,14],9:[1,15],10:[1,16],11:[1,17],12:[1,18],13:[1,19],18:[1,20],19:[1,21],21:[1,54],23:[2,35],29:[1,22],30:[1,23],32:24,33:[1,25],34:[1,26],35:[1,27],36:[1,28],37:[1,29],38:[1,30],39:[1,31]},{23:[1,55]},{4:56,6:[1,3],14:[1,4],15:[1,5],20:[1,6],24:[1,7],25:[1,8],26:[1,9],28:10},{4:59,6:[1,3],14:[1,4],15:[1,5],20:[1,6],21:[1,57],22:58,24:[1,7],25:[1,8],26:[1,9],28:10},{5:[2,3],6:[2,3],7:[2,3],8:[1,14],9:[1,15],10:[1,16],11:[1,17],12:[2,3],13:[2,3],16:[2,3],17:[2,3],18:[2,3],19:[2,3],21:[2,3],23:[2,3],29:[1,22],30:[2,3],31:[2,3],32:24,33:[2,3],34:[2,3],35:[2,3],36:[2,3],37:[2,3],38:[2,3],39:[2,3]},{5:[2,4],6:[2,4],7:[2,4],8:[1,14],9:[1,15],10:[1,16],11:[1,17],12:[2,4],13:[2,4],16:[2,4],17:[2,4],18:[2,4],19:[2,4],21:[2,4],23:[2,4],29:[1,22],30:[2,4],31:[2,4],32:24,33:[2,4],34:[2,4],35:[2,4],36:[2,4],37:[2,4],38:[2,4],39:[2,4]},{5:[2,5],6:[2,5],7:[2,5],8:[2,5],9:[2,5],10:[1,16],11:[2,5],12:[2,5],13:[2,5],16:[2,5],17:[2,5],18:[2,5],19:[2,5],21:[2,5],23:[2,5],29:[2,5],30:[2,5],31:[2,5],32:24,33:[2,5],34:[2,5],35:[2,5],36:[2,5],37:[2,5],38:[2,5],39:[2,5]},{5:[2,6],6:[2,6],7:[2,6],8:[2,6],9:[2,6],10:[1,16],11:[2,6],12:[2,6],13:[2,6],16:[2,6],17:[2,6],18:[2,6],19:[2,6],21:[2,6],23:[2,6],29:[2,6],30:[2,6],31:[2,6],32:24,33:[2,6],34:[2,6],35:[2,6],36:[2,6],37:[2,6],38:[2,6],39:[2,6]},{5:[2,7],6:[2,7],7:[2,7],8:[2,7],9:[2,7],10:[1,16],11:[2,7],12:[2,7],13:[2,7],16:[2,7],17:[2,7],18:[2,7],19:[2,7],21:[2,7],23:[2,7],29:[2,7],30:[2,7],31:[2,7],32:24,33:[2,7],34:[2,7],35:[2,7],36:[2,7],37:[2,7],38:[2,7],39:[2,7]},{5:[2,8],6:[2,8],7:[2,8],8:[2,8],9:[2,8],10:[1,16],11:[2,8],12:[2,8],13:[2,8],16:[2,8],17:[2,8],18:[2,8],19:[2,8],21:[2,8],23:[2,8],29:[2,8],30:[2,8],31:[2,8],32:24,33:[2,8],34:[2,8],35:[2,8],36:[2,8],37:[2,8],38:[2,8],39:[2,8]},{5:[2,9],6:[1,13],7:[1,12],8:[1,14],9:[1,15],10:[1,16],11:[1,17],12:[2,9],13:[2,9],16:[2,9],17:[2,9],18:[1,20],19:[1,21],21:[2,9],23:[2,9],29:[1,22],30:[2,9],31:[2,9],32:24,33:[1,25],34:[1,26],35:[1,27],36:[1,28],37:[1,29],38:[1,30],39:[1,31]},{5:[2,10],6:[1,13],7:[1,12],8:[1,14],9:[1,15],10:[1,16],11:[1,17],12:[1,18],13:[2,10],16:[2,10],17:[2,10],18:[1,20],19:[1,21],21:[2,10],23:[2,10],29:[1,22],30:[2,10],31:[2,10],32:24,33:[1,25],34:[1,26],35:[1,27],36:[1,28],37:[1,29],38:[1,30],39:[1,31]},{5:[2,13],6:[1,13],7:[1,12],8:[1,14],9:[1,15],10:[1,16],11:[1,17],12:[2,13],13:[2,13],16:[2,13],17:[2,13],18:[2,13],19:[2,13],21:[2,13],23:[2,13],29:[1,22],30:[2,13],31:[2,13],32:24,33:[1,25],34:[1,26],35:[1,27],36:[1,28],37:[1,29],38:[1,30],39:[1,31]},{5:[2,14],6:[1,13],7:[1,12],8:[1,14],9:[1,15],10:[1,16],11:[1,17],12:[2,14],13:[2,14],16:[2,14],17:[2,14],18:[2,14],19:[2,14],21:[2,14],23:[2,14],29:[1,22],30:[2,14],31:[2,14],32:24,33:[1,25],34:[1,26],35:[1,27],36:[1,28],37:[1,29],38:[1,30],39:[1,31]},{5:[2,24],6:[2,24],7:[2,24],8:[2,24],9:[2,24],10:[1,16],11:[2,24],12:[2,24],13:[2,24],16:[2,24],17:[2,24],18:[2,24],19:[2,24],21:[2,24],23:[2,24],29:[2,24],30:[2,24],31:[2,24],32:24,33:[2,24],34:[2,24],35:[2,24],36:[2,24],37:[2,24],38:[2,24],39:[2,24]},{6:[1,13],7:[1,12],8:[1,14],9:[1,15],10:[1,16],11:[1,17],12:[1,18],13:[1,19],18:[1,20],19:[1,21],29:[1,22],30:[1,23],31:[1,60],32:24,33:[1,25],34:[1,26],35:[1,27],36:[1,28],37:[1,29],38:[1,30],39:[1,31]},{5:[2,33],6:[2,33],7:[2,33],8:[2,33],9:[2,33],10:[2,33],11:[2,33],12:[2,33],13:[2,33],16:[2,33],17:[2,33],18:[2,33],19:[2,33],21:[2,33],23:[2,33],29:[2,33],30:[2,33],31:[2,33],33:[2,33],34:[2,33],35:[2,33],36:[2,33],37:[2,33],38:[2,33],39:[2,33]},{5:[2,34],6:[1,13],7:[1,12],8:[1,14],9:[1,15],10:[1,16],11:[1,17],12:[2,34],13:[2,34],16:[2,34],17:[2,34],18:[2,34],19:[2,34],21:[2,34],23:[2,34],29:[1,22],30:[2,34],31:[2,34],32:24,33:[1,25],34:[1,26],35:[1,27],36:[1,28],37:[1,29],38:[1,30],39:[1,31]},{4:61,6:[1,3],14:[1,4],15:[1,5],20:[1,6],24:[1,7],25:[1,8],26:[1,9],28:10},{5:[2,15],6:[2,15],7:[2,15],8:[2,15],9:[2,15],10:[2,15],11:[2,15],12:[2,15],13:[2,15],16:[2,15],17:[2,15],18:[2,15],19:[2,15],21:[2,15],23:[2,15],29:[2,15],30:[2,15],31:[2,15],33:[2,15],34:[2,15],35:[2,15],36:[2,15],37:[2,15],38:[2,15],39:[2,15]},{4:62,6:[1,3],14:[1,4],15:[1,5],20:[1,6],24:[1,7],25:[1,8],26:[1,9],28:10},{5:[2,20],6:[2,20],7:[2,20],8:[2,20],9:[2,20],10:[2,20],11:[2,20],12:[2,20],13:[2,20],16:[2,20],17:[2,20],18:[2,20],19:[2,20],21:[2,20],23:[2,20],29:[2,20],30:[2,20],31:[2,20],32:24,33:[2,20],34:[2,20],35:[2,20],36:[2,20],37:[2,20],38:[2,20],39:[2,20]},{5:[2,21],6:[2,21],7:[2,21],8:[2,21],9:[2,21],10:[2,21],11:[2,21],12:[2,21],13:[2,21],16:[2,21],17:[2,21],18:[2,21],19:[2,21],21:[2,21],23:[2,21],29:[2,21],30:[2,21],31:[2,21],33:[2,21],34:[2,21],35:[2,21],36:[2,21],37:[2,21],38:[2,21],39:[2,21]},{21:[1,63],23:[1,64]},{6:[1,13],7:[1,12],8:[1,14],9:[1,15],10:[1,16],11:[1,17],12:[1,18],13:[1,19],18:[1,20],19:[1,21],21:[2,35],23:[2,35],29:[1,22],30:[1,23],32:24,33:[1,25],34:[1,26],35:[1,27],36:[1,28],37:[1,29],38:[1,30],39:[1,31]},{4:65,6:[1,3],14:[1,4],15:[1,5],20:[1,6],24:[1,7],25:[1,8],26:[1,9],28:10},{6:[1,13],7:[1,12],8:[1,14],9:[1,15],10:[1,16],11:[1,17],12:[1,18],13:[1,19],17:[1,66],18:[1,20],19:[1,21],29:[1,22],30:[1,23],32:24,33:[1,25],34:[1,26],35:[1,27],36:[1,28],37:[1,29],38:[1,30],39:[1,31]},{6:[1,13],7:[1,12],8:[1,14],9:[1,15],10:[1,16],11:[1,17],12:[1,18],13:[1,19],18:[1,20],19:[1,21],21:[1,67],23:[2,36],29:[1,22],30:[1,23],32:24,33:[1,25],34:[1,26],35:[1,27],36:[1,28],37:[1,29],38:[1,30],39:[1,31]},{5:[2,22],6:[2,22],7:[2,22],8:[2,22],9:[2,22],10:[2,22],11:[2,22],12:[2,22],13:[2,22],16:[2,22],17:[2,22],18:[2,22],19:[2,22],21:[2,22],23:[2,22],29:[2,22],30:[2,22],31:[2,22],33:[2,22],34:[2,22],35:[2,22],36:[2,22],37:[2,22],38:[2,22],39:[2,22]},{4:68,6:[1,3],14:[1,4],15:[1,5],20:[1,6],24:[1,7],25:[1,8],26:[1,9],28:10},{5:[2,25],6:[1,13],7:[1,12],8:[1,14],9:[1,15],10:[1,16],11:[1,17],12:[1,18],13:[1,19],16:[2,25],17:[2,25],18:[1,20],19:[1,21],21:[2,25],23:[2,25],29:[1,22],30:[1,23],31:[2,25],32:24,33:[1,25],34:[1,26],35:[1,27],36:[1,28],37:[1,29],38:[1,30],39:[1,31]},{4:69,6:[1,3],14:[1,4],15:[1,5],20:[1,6],24:[1,7],25:[1,8],26:[1,9],28:10},{5:[2,16],6:[2,16],7:[2,16],8:[2,16],9:[2,16],10:[2,16],11:[2,16],12:[2,16],13:[2,16],16:[2,16],17:[2,16],18:[2,16],19:[2,16],21:[2,16],23:[2,16],29:[2,16],30:[2,16],31:[2,16],33:[2,16],34:[2,16],35:[2,16],36:[2,16],37:[2,16],38:[2,16],39:[2,16]},{6:[1,13],7:[1,12],8:[1,14],9:[1,15],10:[1,16],11:[1,17],12:[1,18],13:[1,19],18:[1,20],19:[1,21],21:[2,36],23:[2,36],29:[1,22],30:[1,23],32:24,33:[1,25],34:[1,26],35:[1,27],36:[1,28],37:[1,29],38:[1,30],39:[1,31]},{5:[2,12],6:[1,13],7:[1,12],8:[1,14],9:[1,15],10:[1,16],11:[1,17],12:[1,18],13:[1,19],16:[2,12],17:[2,12],18:[1,20],19:[1,21],21:[2,12],23:[2,12],29:[1,22],30:[1,23],31:[2,12],32:24,33:[1,25],34:[1,26],35:[1,27],36:[1,28],37:[1,29],38:[1,30],39:[1,31]}],defaultActions:{11:[2,1]},parseError:function(i,o){throw new Error(i)},parse:function(i){var o=this,s=[0],a=[null],c=[],l=this.table,f="",g=0,d=0,p=0,v=2,h=1;this.lexer.setInput(i),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,typeof this.lexer.yylloc>"u"&&(this.lexer.yylloc={});var w=this.lexer.yylloc;c.push(w);var F=this.lexer.options&&this.lexer.options.ranges;typeof this.yy.parseError=="function"&&(this.parseError=this.yy.parseError);function x(re){s.length=s.length-2*re,a.length=a.length-re,c.length=c.length-re}function G(){var re;return re=o.lexer.lex()||1,typeof re!="number"&&(re=o.symbols_[re]||re),re}for(var k,E,I,V,X,q={},ne,Z,pe,B;;){if(I=s[s.length-1],this.defaultActions[I]?V=this.defaultActions[I]:((k===null||typeof k>"u")&&(k=G()),V=l[I]&&l[I][k]),typeof V>"u"||!V.length||!V[0]){var te="";if(!p){B=[];for(ne in l[I])this.terminals_[ne]&&ne>2&&B.push("'"+this.terminals_[ne]+"'");this.lexer.showPosition?te="Parse error on line "+(g+1)+`:
`+this.lexer.showPosition()+`
Expecting `+B.join(", ")+", got '"+(this.terminals_[k]||k)+"'":te="Parse error on line "+(g+1)+": Unexpected "+(k==1?"end of input":"'"+(this.terminals_[k]||k)+"'"),this.parseError(te,{text:this.lexer.match,token:this.terminals_[k]||k,line:this.lexer.yylineno,loc:w,expected:B})}if(p==3){if(k==h)throw new Error(te||"Parsing halted.");d=this.lexer.yyleng,f=this.lexer.yytext,g=this.lexer.yylineno,w=this.lexer.yylloc,k=G()}for(;!(v.toString()in l[I]);){if(I===0)throw new Error(te||"Parsing halted.");x(1),I=s[s.length-1]}E=k==2?null:k,k=v,I=s[s.length-1],V=l[I]&&l[I][v],p=3}if(V[0]instanceof Array&&V.length>1)throw new Error("Parse Error: multiple actions possible at state: "+I+", token: "+k);switch(V[0]){case 1:s.push(k),a.push(this.lexer.yytext),c.push(this.lexer.yylloc),s.push(V[1]),k=null,E?(k=E,E=null):(d=this.lexer.yyleng,f=this.lexer.yytext,g=this.lexer.yylineno,w=this.lexer.yylloc,p>0&&p--);break;case 2:if(Z=this.productions_[V[1]][1],q.$=a[a.length-Z],q._$={first_line:c[c.length-(Z||1)].first_line,last_line:c[c.length-1].last_line,first_column:c[c.length-(Z||1)].first_column,last_column:c[c.length-1].last_column},F&&(q._$.range=[c[c.length-(Z||1)].range[0],c[c.length-1].range[1]]),X=this.performAction.call(q,f,d,g,this.yy,V[1],a,c),typeof X<"u")return X;Z&&(s=s.slice(0,-1*Z*2),a=a.slice(0,-1*Z),c=c.slice(0,-1*Z)),s.push(this.productions_[V[1]][0]),a.push(q.$),c.push(q._$),pe=l[s[s.length-2]][s[s.length-1]],s.push(pe);break;case 3:return!0}}return!0}},n=function(){var r={EOF:1,parseError:function(o,s){if(this.yy.parser)this.yy.parser.parseError(o,s);else throw new Error(o)},setInput:function(i){return this._input=i,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var i=this._input[0];this.yytext+=i,this.yyleng++,this.offset++,this.match+=i,this.matched+=i;var o=i.match(/(?:\r\n?|\n).*/g);return o?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),i},unput:function(i){var o=i.length,s=i.split(/(?:\r\n?|\n)/g);this._input=i+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-o-1),this.offset-=o;var a=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),s.length-1&&(this.yylineno-=s.length-1);var c=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:s?(s.length===a.length?this.yylloc.first_column:0)+a[a.length-s.length].length-s[0].length:this.yylloc.first_column-o},this.options.ranges&&(this.yylloc.range=[c[0],c[0]+this.yyleng-o]),this},more:function(){return this._more=!0,this},less:function(i){this.unput(this.match.slice(i))},pastInput:function(){var i=this.matched.substr(0,this.matched.length-this.match.length);return(i.length>20?"...":"")+i.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var i=this.match;return i.length<20&&(i+=this._input.substr(0,20-i.length)),(i.substr(0,20)+(i.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var i=this.pastInput(),o=new Array(i.length+1).join("-");return i+this.upcomingInput()+`
`+o+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var i,o,s,a,c;this._more||(this.yytext="",this.match="");for(var l=this._currentRules(),f=0;f<l.length&&(s=this._input.match(this.rules[l[f]]),!(s&&(!o||s[0].length>o[0].length)&&(o=s,a=f,!this.options.flex)));f++);return o?(c=o[0].match(/(?:\r\n?|\n).*/g),c&&(this.yylineno+=c.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:c?c[c.length-1].length-c[c.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+o[0].length},this.yytext+=o[0],this.match+=o[0],this.matches=o,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(o[0].length),this.matched+=o[0],i=this.performAction.call(this,this.yy,this,l[a],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),i||void 0):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var o=this.next();return typeof o<"u"?o:this.lex()},begin:function(o){this.conditionStack.push(o)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(o){this.begin(o)}};return r.options={},r.performAction=function(o,s,a,c){switch(a){case 0:return"*";case 1:return"/";case 2:return"-";case 3:return"+";case 4:return"^";case 5:return"(";case 6:return")";case 7:return",";case 8:return"==";case 9:return"!=";case 10:return"~=";case 11:return">=";case 12:return"<=";case 13:return"<";case 14:return">";case 15:return"notIn";case 16:return"and";case 17:return"or";case 18:return"not";case 19:return"in";case 20:return"of";case 21:return"if";case 22:return"then";case 23:return"else";case 24:return"mod";case 25:break;case 26:return"Number";case 27:return s.yytext=JSON.stringify({name:s.yytext,type:"unescaped"}),"Symbol";case 28:return s.yytext=JSON.stringify({name:o.buildString("'",s.yytext),type:"single-quoted"}),"Symbol";case 29:return s.yytext=JSON.stringify(o.buildString('"',s.yytext)),"String";case 30:return"%";case 31:return"?";case 32:return":";case 33:return"EndOfExpression"}},r.rules=[/^(?:\*)/,/^(?:\/)/,/^(?:-)/,/^(?:\+)/,/^(?:\^)/,/^(?:\()/,/^(?:\))/,/^(?:\,)/,/^(?:==)/,/^(?:\!=)/,/^(?:\~=)/,/^(?:>=)/,/^(?:<=)/,/^(?:<)/,/^(?:>)/,/^(?:not\s+in[^\w])/,/^(?:and[^\w])/,/^(?:or[^\w])/,/^(?:not[^\w])/,/^(?:in[^\w])/,/^(?:of[^\w])/,/^(?:if[^\w])/,/^(?:then[^\w])/,/^(?:else[^\w])/,/^(?:mod[^\w])/,/^(?:\s+)/,/^(?:[0-9]+(?:\.[0-9]+)?(?![0-9\.]))/,/^(?:[a-zA-Z$_][\.a-zA-Z0-9$_]*)/,/^(?:'(?:\\'|\\\\|[^'\\])*')/,/^(?:"(?:\\"|\\\\|[^"\\])*")/,/^(?:\%)/,/^(?:\?)/,/^(?::)/,/^(?:$)/],r.conditions={INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33],inclusive:!0}},r}();e.lexer=n;function t(){this.yy={}}return t.prototype=e,e.Parser=t,new t}();const Ln=On;On.Parser;class Gn extends ReferenceError{constructor(t){super(`Unknown function: ${t}()`);Ke(this,"I18N_STRING","UNKNOWN_FUNCTION");this.functionName=t}}class xn extends ReferenceError{constructor(t){super(`Property â€œ${t}â€ does not exist.`);Ke(this,"I18N_STRING","UNKNOWN_PROPERTY");this.propertyName=t}}class Ao extends TypeError{constructor(t){super(`Unknown option: ${t}`);Ke(this,"I18N_STRING","UNKNOWN_OPTION");this.keyName=t}}class yt extends TypeError{constructor(t,r){super(`Expected a ${t}, but got a ${r} instead.`);Ke(this,"I18N_STRING","UNEXPECTED_TYPE");this.expectedType=t,this.recievedType=r}}class Mt extends Error{constructor(t){super(t);Ke(this,"I18N_STRING","INTERNAL")}}function vt(e,n){return typeof e=="object"||typeof e=="function"?Object.prototype.hasOwnProperty.call(e,n):!1}function Oo(e,n){return(e%n+n)%n}function Lo(e){if(typeof e!="object")return e;if(e instanceof Number||e instanceof String||e instanceof Boolean)return e.valueOf()}function St(e){return Array.isArray(e)&&e.length===1&&(e=e[0]),Lo(e)}function xt(e){return e=St(e),e===void 0?"undefined":e===null?"null":e===!0?"true":e===!1?"false":typeof e=="number"?"number":typeof e=="string"?"text":typeof e!="object"&&typeof e!="function"?"unknown type":Array.isArray(e)?"list":"object"}function he(e){if(e=St(e),typeof e=="number")return e;throw new yt("number",xt(e))}function Cn(e){if(e=St(e),typeof e=="string")return e;throw new yt("text",xt(e))}function en(e){if(e=St(e),typeof e=="string"||typeof e=="number")return e;throw new yt("text or number",xt(e))}function Go(e){if(e=St(e),typeof e=="boolean")return e;throw new yt("logical value (â€œtrueâ€ or â€œfalseâ€)",xt(e))}function qt(e){if(e==null)throw new yt("list",xt(e));return Array.isArray(e)?e:[e]}function tn(e){const n=[...e],t=[];for(;n.length;){const r=n.pop();Array.isArray(r)?n.push(...r):t.push(r)}return t.reverse()}const Bn={isfn(e,n){return vt(e,n)&&typeof e[n]=="function"},unknown(e){throw new Gn(e)},coerceArray:qt,coerceNumber:he,coerceNumberOrString:en,coerceBoolean:Go,isSubset(e,n){const t=qt(e),r=qt(n);return t.every(i=>r.includes(i))},warnDeprecated:function(){let n={ternary:0,modulo:0};return(t,r)=>{switch(t){case"ternary":if(n.ternary++>=3)break;console.warn("The use of ? and : as conditional operators has been deprecated in Filtrex v3 in favor of the if..then..else ternary operator. See issue #34 for more information.");break;case"modulo":if(n.modulo++>=3)break;console.warn("The use of '%' as a modulo operator has been deprecated in Filtrex v3 in favor of the 'mod' operator. You can use it like this: '3 mod 2 == 1'. See issue #48 for more information.");break}return r}}(),buildString(e,n){e=String(e)[0],n=String(n);let t="";if(n[0]!==e||n[n.length-1]!==e)throw new Mt("Unexpected internal error: String literal doesn't begin/end with the right quotation mark.");for(let r=1;r<n.length-1;r++)if(n[r]==="\\"){if(r++,r>=n.length-1)throw new Mt("Unexpected internal error: Unescaped backslash at the end of string literal.");if(n[r]==="\\")t+="\\";else if(n[r]===e)t+=e;else throw new Mt(`Unexpected internal error: Invalid escaped character in string literal: ${n[r]}`)}else{if(n[r]===e)throw new Mt("Unexpected internal error: String literal contains unescaped quotation mark.");t+=n[r]}return t},reduceRelation(e){const n=[],t=[];let r=tn([e[0]]).join(""),i=0;for(let o=1;o<e.length-1;o+=2){const s=tn([e[o+1]]).join(""),a=`tmp${i++}`;t.push(`ops["${e[o]}"](${r}, ${a} = ${s})`),r=a,n.push(a)}return`(function(){ var ${n.join(", ")}; return ${t.join(" && ")};})()`}};Ln.yy=Object.create(Bn);function Hn(e,n){if(arguments.length>2)throw new TypeError("Too many arguments.");n=typeof n=="object"?n:{};const t=["extraFunctions","constants","customProp","operators"];let{extraFunctions:r,constants:i,customProp:o,operators:s}=n;for(const h of Object.keys(n))if(!t.includes(h))throw new Ao(h);let a={abs:Math.abs,ceil:Math.ceil,floor:Math.floor,log:Math.log,log2:Math.log2,log10:Math.log10,max:Math.max,min:Math.min,round:Math.round,sqrt:Math.sqrt,exists:h=>h!=null,empty:h=>h==null||h===""||Array.isArray(h)&&h.length===0};if(r)for(const h of Object.keys(r))a[h]=r[h];let c={"+":(h,w)=>en(h)+en(w),"-":(h,w)=>w===void 0?-he(h):he(h)-he(w),"*":(h,w)=>he(h)*he(w),"/":(h,w)=>he(h)/he(w),"^":(h,w)=>Math.pow(he(h),he(w)),mod:(h,w)=>Oo(he(h),he(w)),"==":(h,w)=>h===w,"!=":(h,w)=>h!==w,"<":(h,w)=>he(h)<he(w),"<=":(h,w)=>he(h)<=he(w),">=":(h,w)=>he(h)>=he(w),">":(h,w)=>he(h)>he(w),"~=":(h,w)=>RegExp(Cn(w)).test(Cn(h))};if(s)for(const h of Object.keys(s))c[h]=s[h];s=c,i=i??{};let l=tn(Ln.parse(e));l.unshift("return "),l.push(";");function f(h,w,F){if(vt(w??{},h))return w[h];throw new xn(h)}function g(h){return function(F){if(vt(h??{},F))return h[F];throw new xn(F)}}typeof o=="function"&&(f=(h,w,F)=>o(h,g(w),w,F));function d(h){return function(F){let{name:x}=F;for(var G=arguments.length,k=new Array(G>1?G-1:0),E=1;E<G;E++)k[E-1]=arguments[E];if(vt(h,x)&&typeof h[x]=="function")return h[x](...k);throw new Gn(x)}}function p(h,w){let{name:F,type:x}=h;return x==="unescaped"&&vt(i,F)?i[F]:f(F,w,x)}let v=new Function("call","ops","std","prop","data",l.join(""));return function(h){try{return v(d(a),s,Bn,p,h)}catch(w){return w}}}function Bo(e){if(!e||!e.trim())return()=>!0;try{const t=Hn(e,{extraFunctions:{startsWith:(r,i)=>(r==null?void 0:r.startsWith(i))||!1,endsWith:(r,i)=>(r==null?void 0:r.endsWith(i))||!1,contains:(r,i)=>(r==null?void 0:r.includes(i))||!1,toLowerCase:r=>(r==null?void 0:r.toLowerCase())||"",toUpperCase:r=>(r==null?void 0:r.toUpperCase())||""}});return r=>{try{const i={id:r.id,model:r.model,split:r.split,concerningScore:r.concerningScore,summary:r.summary,judgeSummary:r.judgeSummary,justification:r.justification,...Object.fromEntries(Object.entries(r.scores||{}).map(([o,s])=>[o,s])),scores:r.scores||{}};return!!t(i)}catch(i){return console.warn("Filter evaluation failed for transcript:",r.id,i),!1}}}catch(n){return console.warn("Filter compilation failed:",n),()=>!0}}function Ho(e){if(!e||!e.trim())return null;try{return Hn(e,{extraFunctions:{startsWith:()=>!0,endsWith:()=>!0,contains:()=>!0,toLowerCase:()=>"",toUpperCase:()=>""}}),null}catch(n){return n instanceof Error?n.message:"Invalid expression"}}function No(){return["scoreA < 5","scoreA < 5 and scoreB > 3","1 < scoreA < 4","scoreA in (1, 3, 5)",'split == "scheming"','split in ("scheming", "power_seeking")','startsWith(model, "gpt")','contains(summary, "refusal")',"concerningScore > 7 and scoreA < 3","(scoreA == 1 or scoreA == 3) and scoreB < 6"]}function Uo(e){const n=["id","model","split","concerningScore","summary","judgeSummary"],t=["startsWith","endsWith","contains","toLowerCase","toUpperCase"];return[...n,...e,...t]}function jo(e,n){const t=/[a-zA-Z_][a-zA-Z0-9_]*/g;let r;for(;(r=t.exec(e))!==null;){const s=r.index,a=r.index+r[0].length;if(n>=s&&n<=a)return{word:r[0],startPos:s,endPos:a}}const i=e.slice(0,n),o=i.search(/[a-zA-Z_][a-zA-Z0-9_]*$/);return o!==-1?{word:i.slice(o),startPos:o,endPos:n}:{word:"",startPos:n,endPos:n}}function Wo(e,n){if(!e)return[];const t=e.toLowerCase();return n.filter(r=>r.toLowerCase().includes(t)).sort((r,i)=>{const o=r.toLowerCase().startsWith(t),s=i.toLowerCase().startsWith(t);return o&&!s?-1:!o&&s?1:r.localeCompare(i)}).slice(0,10)}function qo(e,n){n()}function Ko(e,n,t,r,i){u(n)&&(e.key==="ArrowDown"?(e.preventDefault(),W(t,Math.min(u(t)+1,u(r).length-1),!0)):e.key==="ArrowUp"?(e.preventDefault(),W(t,Math.max(u(t)-1,-1),!0)):e.key==="Enter"&&u(t)>=0?(e.preventDefault(),i(u(r)[u(t)])):e.key==="Escape"&&(W(n,!1),W(t,-1)))}var Yo=P('<li><code class="text-xs bg-base-200 px-1 py-0.5 rounded"> </code> <br/> <span class="text-xs text-base-content/70"> </span></li>'),Xo=P('<label class="label"><span class="label-text-alt text-error"> </span></label>'),Jo=(e,n,t)=>n(u(t)),Qo=P('<button type="button"><code class="text-sm"> </code></button>'),Zo=P('<div class="absolute top-full left-0 right-0 bg-base-100 border border-base-300 rounded-box shadow-lg z-10 max-h-48 overflow-y-auto"></div>'),$o=P('<button class="btn btn-ghost btn-xs">Clear filters</button>'),es=P(`<div class="card bg-base-100 shadow-sm"><div class="card-body"><h2 class="text-xl font-semibold mb-4">Filters</h2> <div class="form-control mb-4"><label class="label"><span class="label-text">Search in summary</span></label> <input type="text" placeholder="Search transcripts by summary text..." class="input input-bordered w-full"/></div> <div class="form-control mb-4 autocomplete-container relative"><label class="label"><span class="label-text">Advanced Filter Expression</span> <div class="dropdown dropdown-end"><div tabindex="0" role="button" class="btn btn-ghost btn-xs"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" class="w-4 h-4 stroke-current"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></div> <div class="dropdown-content z-[1] menu p-2 shadow bg-base-100 rounded-box w-80"><div class="text-sm"><h3 class="font-semibold mb-2">Filter Examples:</h3> <ul class="space-y-1"></ul></div></div></div></label> <input type="text" placeholder="e.g., concerningScore > 5 &amp;&amp; model = 'claude-3.5'" autocomplete="off"/> <!> <!></div> <div class="flex justify-between items-center text-sm text-base-content/70"><span> </span> <!></div></div></div>`);function ts(e,n){Ue(n,!0);let t,r=_e(!1),i=_e(-1),o=_e(Be({word:"",startPos:0,endPos:0})),s=_e(Be([])),a=O(No),c=O(()=>Uo(n.scoreTypes)),l=O(()=>Ho(Ce.value.filterExpression));function f(){if(!t)return;const T=t.selectionStart||0,A=Ce.value.filterExpression||"";W(o,jo(A,T),!0),W(s,Wo(u(o).word,u(c)),!0),W(r,u(s).length>0&&u(o).word.length>0,!0),W(i,-1)}function g(T){const A=Ce.value.filterExpression||"",J=A.slice(0,u(o).startPos)+T+A.slice(u(o).endPos);Ce.value.filterExpression=J,W(r,!1),W(i,-1),setTimeout(()=>{if(t){const oe=u(o).startPos+T.length;t.setSelectionRange(oe,oe),t.focus()}},0)}function d(T){T.target.closest(".autocomplete-container")||(W(r,!1),W(i,-1))}var p=es();pr("click",vr,d);var v=_(p),h=C(_(v),2),w=C(_(h),2);Pt(w),m(h);var F=C(h,2),x=_(F),G=C(_(x),2),k=C(_(G),2),E=_(k),I=C(_(E),2);Ee(I,21,()=>u(a),ke,(T,A)=>{var J=Yo(),oe=_(J),R=_(oe,!0);m(oe);var M=C(oe,4),N=_(M,!0);m(M),m(J),K(()=>{H(R,u(A).expression),H(N,u(A).description)}),S(T,J)}),m(I),m(E),m(k),m(G),m(x);var V=C(x,2);Pt(V),V.__input=[qo,f],V.__keydown=[Ko,r,i,s,g],bn(V,T=>t=T,()=>t);var X=C(V,2);{var q=T=>{var A=Xo(),J=_(A),oe=_(J,!0);m(J),m(A),K(()=>H(oe,u(l))),S(T,A)};L(X,T=>{u(l)&&T(q)})}var ne=C(X,2);{var Z=T=>{var A=Zo();Ee(A,21,()=>u(s),ke,(J,oe,R)=>{var M=Qo();M.__click=[Jo,g,oe];var N=_(M),ie=_(N,!0);m(N),m(M),K(()=>{Je(M,1,`w-full text-left px-3 py-2 hover:bg-base-200 ${R===u(i)?"bg-base-200":""}`),H(ie,u(oe))}),S(J,M)}),m(A),S(T,A)};L(ne,T=>{u(r)&&T(Z)})}m(F);var pe=C(F,2),B=_(pe),te=_(B);m(B);var re=C(B,2);{var we=T=>{var A=$o();A.__click=()=>{Ce.value.searchQuery="",Ce.value.filterExpression=""},S(T,A)};L(re,T=>{n.filteredCount!==n.totalCount&&T(we)})}m(pe),m(v),m(p),K((T,A)=>{Je(V,1,`input input-bordered w-full ${u(l)?"input-error":""}`),H(te,`Showing ${T??""} of ${A??""} transcripts`)},[()=>n.filteredCount.toLocaleString(),()=>n.totalCount.toLocaleString()]),vn(w,()=>Ce.value.searchQuery,T=>Ce.value.searchQuery=T),vn(V,()=>Ce.value.filterExpression,T=>Ce.value.filterExpression=T),S(e,p),je()}nt(["input","keydown","click"]);var lt=Pr(()=>Ne),ns=P('<div class="tabs tabs-boxed"><button>Tree View</button> <button>List View</button></div>');function rs(e,n){Ue(n,!1),Mr();var t=ns(),r=_(t);r.__click=()=>lt(lt().value.viewMode="tree");var i=C(r,2);i.__click=()=>lt(lt().value.viewMode="list"),m(t),K(()=>{Je(r,1,`tab ${lt().value.viewMode==="tree"?"tab-active":""}`),Je(i,1,`tab ${lt().value.viewMode==="list"?"tab-active":""}`)}),S(e,t),je()}nt(["click"]);var is=(e,n)=>{W(n,!u(n))},os=P('<div class="stats shadow"><div class="stat"><div class="stat-title">Total Files</div> <div class="stat-value text-primary"> </div></div> <div class="stat"><div class="stat-title">Successful</div> <div class="stat-value text-success"> </div></div> <div class="stat"><div class="stat-title">Failed</div> <div class="stat-value text-error"> </div></div> <div class="stat"><div class="stat-title">Validation Errors</div> <div class="stat-value text-warning"> </div></div></div>'),ss=P('<div class="alert alert-info"><span>No error details available to display.</span></div>'),ls=P('<div class="text-xs opacity-70 font-mono"> </div>'),as=P('<div class="text-xs mt-1"> </div>'),us=P('<details class="mt-2"><summary class="text-xs cursor-pointer hover:text-primary">Show validation errors</summary> <pre class="text-xs mt-1 p-2 bg-base-300 rounded overflow-x-auto"> </pre></details>'),cs=P('<details class="mt-2"><summary class="text-xs cursor-pointer hover:text-primary">Show partial data info</summary> <div class="text-xs mt-1 p-2 bg-base-300 rounded"><div> </div> <div> </div> <div> </div> <div> </div> <div> </div></div></details>'),ds=P('<div><div class="flex-1"><div class="font-medium"> </div> <!> <!> <!> <!></div></div>'),gs=P('<div class="collapse collapse-arrow bg-base-200"><input type="checkbox"/> <div class="collapse-title text-lg font-medium"><div class="flex items-center gap-2"><span class="text-2xl"> </span> <span> </span> <span class="badge badge-neutral"> </span></div></div> <div class="collapse-content"><div class="space-y-2"></div></div></div>'),fs=P('<div class="space-y-3"><!></div>'),hs=P('<div class="space-y-4"><div class="alert alert-warning"><svg xmlns="http://www.w3.org/2000/svg" class="stroke-current shrink-0 h-6 w-6" fill="none" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.5 0L4.268 19.5c-.77.833.192 2.5 1.732 2.5z"></path></svg> <div><h3 class="font-bold"> </h3> <div class="text-sm"> <!></div></div> <div><button class="btn btn-sm btn-outline"> </button></div></div> <!> <!></div>');function ps(e,n){Ue(n,!0);let t=Fe(n,"title",3,"Loading Errors"),r=Fe(n,"showDetails",3,!1),i=_e(Be(r()));function o(d){switch(d){case"file_not_found":return"ðŸ“";case"permission_denied":return"ðŸ”’";case"parse_error":return"ðŸ“„";case"validation_error":return"âš ï¸";default:return"âŒ"}}function s(d){switch(d){case"file_not_found":return"alert-warning";case"permission_denied":return"alert-error";case"parse_error":return"alert-error";case"validation_error":return"alert-warning";default:return"alert-error"}}function a(d){return d.replace(/_/g," ").replace(/\b\w/g,p=>p.toUpperCase())}let c=O(()=>{var p;const d={};return console.log("ðŸ”§ ErrorDisplay: Processing",((p=n.errors)==null?void 0:p.length)||0,"errors"),!n.errors||!Array.isArray(n.errors)?(console.log("ðŸ”§ ErrorDisplay: errors is not a valid array:",n.errors),d):(n.errors.forEach((v,h)=>{h===0&&console.log("ðŸ”§ ErrorDisplay: First error structure:",{type:v==null?void 0:v.type,message:v==null?void 0:v.message,file:v==null?void 0:v.file,hasDetails:!!(v!=null&&v.details),hasValidationErrors:!!(v!=null&&v.validationErrors),hasPartialData:!!(v!=null&&v.partialData)}),d[v.type]||(d[v.type]=[]);const w={type:v.type,message:v.message,file:v.file,details:v.details,validationErrors:v.validationErrors,partialData:v.partialData?{hasMetadata:v.partialData.hasMetadata,hasEvents:v.partialData.hasEvents,eventCount:v.partialData.eventCount,version:v.partialData.version,sessionId:v.partialData.sessionId}:void 0};d[v.type].push(w)}),console.log("ðŸ”§ ErrorDisplay: Final groups:",Object.keys(d),"entries count:",Object.entries(d).length),d)});var l=ge(),f=de(l);{var g=d=>{var p=hs(),v=_(p),h=C(_(v),2),w=_(h),F=_(w,!0);m(w);var x=C(w,2),G=_(x),k=C(G);{var E=B=>{var te=at();K(()=>H(te,`Successfully loaded ${n.stats.successfulFiles??""}/${n.stats.totalFiles??""} files.`)),S(B,te)};L(k,B=>{n.stats&&B(E)})}m(x),m(h);var I=C(h,2),V=_(I);V.__click=[is,i];var X=_(V);m(V),m(I),m(v);var q=C(v,2);{var ne=B=>{var te=os(),re=_(te),we=C(_(re),2),T=_(we,!0);m(we),m(re);var A=C(re,2),J=C(_(A),2),oe=_(J,!0);m(J),m(A);var R=C(A,2),M=C(_(R),2),N=_(M,!0);m(M),m(R);var ie=C(R,2),ee=C(_(ie),2),$=_(ee,!0);m(ee),m(ie),m(te),K(()=>{H(T,n.stats.totalFiles),H(oe,n.stats.successfulFiles),H(N,n.stats.failedFiles),H($,n.stats.validationErrors)}),S(B,te)};L(q,B=>{n.stats&&B(ne)})}var Z=C(q,2);{var pe=B=>{var te=fs(),re=_(te);{var we=A=>{var J=ss();S(A,J)},T=A=>{var J=ge(),oe=de(J);Ee(oe,17,()=>Object.entries(u(c)),ke,(R,M)=>{var N=O(()=>mr(u(M),2));let ie=()=>u(N)[0],ee=()=>u(N)[1];var $=gs(),le=C(_($),2),ue=_(le),ve=_(ue),ze=_(ve,!0);m(ve);var Me=C(ve,2),Ve=_(Me,!0);m(Me);var y=C(Me,2),b=_(y,!0);m(y),m(ue),m(le);var Y=C(le,2),se=_(Y);Ee(se,21,ee,ke,(ae,U)=>{var fe=ds(),ye=_(fe),be=_(ye),Te=_(be,!0);m(be);var We=C(be,2);{var rt=j=>{var Q=ls(),ce=_(Q,!0);m(Q),K(()=>H(ce,u(U).file)),S(j,Q)};L(We,j=>{u(U).file&&j(rt)})}var Ze=C(We,2);{var Le=j=>{var Q=as(),ce=_(Q,!0);m(Q),K(()=>H(ce,u(U).details)),S(j,Q)};L(Ze,j=>{u(U).details&&j(Le)})}var Ae=C(Ze,2);{var $e=j=>{var Q=us(),ce=C(_(Q),2),Re=_(ce,!0);m(ce),m(Q),K(()=>H(Re,u(U).validationErrors)),S(j,Q)};L(Ae,j=>{u(U).validationErrors&&j($e)})}var ut=C(Ae,2);{var me=j=>{var Q=cs(),ce=C(_(Q),2),Re=_(ce),Ie=_(Re);m(Re);var et=C(Re,2),Dt=_(et);m(et);var Se=C(et,2),Pe=_(Se);m(Se);var ct=C(Se,2),zt=_(ct);m(ct);var Ct=C(ct,2),qe=_(Ct);m(Ct),m(ce),m(Q),K(()=>{H(Ie,`Has metadata: ${u(U).partialData.hasMetadata?"Yes":"No"}`),H(Dt,`Has events: ${u(U).partialData.hasEvents?"Yes":"No"}`),H(Pe,`Event count: ${u(U).partialData.eventCount??""}`),H(zt,`Version: ${u(U).partialData.version||"Unknown"}`),H(qe,`Session ID: ${u(U).partialData.sessionId||"Unknown"}`)}),S(j,Q)};L(ut,j=>{u(U).partialData&&j(me)})}m(ye),m(fe),K(j=>{Je(fe,1,`alert ${j??""} alert-sm`),H(Te,u(U).message)},[()=>s(u(U).type)]),S(ae,fe)}),m(se),m(Y),m($),K((ae,U)=>{H(ze,ae),H(Ve,U),H(b,ee().length)},[()=>o(ie()),()=>a(ie())]),S(R,$)}),S(A,J)};L(re,A=>{Object.entries(u(c)).length===0?A(we):A(T,!1)})}m(te),S(B,te)};L(Z,B=>{u(i)&&B(pe)})}m(p),K(()=>{H(F,t()),H(G,`${n.errors.length??""} error${n.errors.length!==1?"s":""} occurred while loading transcript data. `),H(X,`${u(i)?"Hide":"Show"} Details`)}),S(d,p)};L(f,d=>{n.errors.length>0&&d(g)})}S(e,l),je()}nt(["click"]);function vs(e){const n={id:"root",name:"root",path:"",type:"folder",subRows:[],isEmpty:!1,transcriptCount:0},t=new Map;t.set("",n);for(const r of e){const s=(r._filePath||"").split("/").slice(0,-1),a=s.join("/");let c="",l=n;for(const g of s){if(c=c?`${c}/${g}`:g,!t.has(c)){const d={id:c,name:g,path:c,type:"folder",subRows:[],isEmpty:!1,transcriptCount:0};t.set(c,d),l.subRows.push(d)}l=t.get(c)}const f={id:a?`${a}/${r.id}`:r.id,name:r.summary.substring(0,50)+(r.summary.length>50?"...":""),path:a?`${a}/${r.id}`:r.id,type:"transcript",model:r.model,split:r.split,summary:r.summary,scores:r.scores,concerningScore:r.concerningScore,judgeSummary:r.judgeSummary,justification:r.justification,tags:r.tags,originalTranscript:r};l.subRows.push(f)}return Nn(n),Un(n),n.subRows||[]}function Nn(e){if(e.type==="transcript")return 1;if(e.type==="folder"&&e.subRows){let n=0;for(const t of e.subRows)n+=Nn(t);return e.transcriptCount=n,e.isEmpty=n===0,n}return 0}function Un(e){if(!(e.type!=="folder"||!e.subRows)){e.subRows.sort((n,t)=>{var r,i;if(n.type!==t.type)return n.type==="folder"?-1:1;if(n.type==="folder")return n.name.localeCompare(t.name);{const o=((r=n.originalTranscript)==null?void 0:r.id)||n.id,s=((i=t.originalTranscript)==null?void 0:i.id)||t.id;return o.localeCompare(s)}});for(const n of e.subRows)n.type==="folder"&&Un(n)}}function ms(){let e=_e(Be([])),n=_e(!0),t=_e(null),r=_e(Be([])),i=_e(null),o=O(()=>u(e)),s=O(()=>vs(u(e)));async function a(l,f){console.log("ðŸ”„ [DEBUG] Starting unified loadData()...",{viewMode:l,subdirectoryPath:f}),W(n,!0),W(t,null),W(r,[],!0),W(i,null);try{let d="";f&&(d=`&rootDir=${encodeURIComponent(f)}`),await c(d,!0)}catch(g){W(t,g instanceof Error?g.message:"Unknown error",!0),console.error("ðŸ’¥ [DEBUG] Failed to load data:",g),W(e,[],!0),W(i,null),W(r,[{type:"unknown_error",message:u(t),file:"API Request"}],!0)}finally{W(n,!1),console.log("ðŸ [DEBUG] Loading complete. Final state:",{loading:u(n),error:u(t),rawTranscriptsLength:u(e).length,derivedTranscriptsLength:u(o).length,derivedFolderTreeLength:u(s).length})}}async function c(l,f){const g=`/api/transcripts/list${l?`?${l.slice(1)}`:""}`;console.log("ðŸŒ [DEBUG] Fetching unified data from:",g);const d=await fetch(g);if(console.log("ðŸ“¡ [DEBUG] Response:",d.status,d.ok),!d.ok)throw new Error(`Failed to load transcripts: ${d.status} ${d.statusText}`);const p=await d.json();W(e,Array.isArray(p)?p:[],!0),W(i,null),W(r,[],!0),console.log("âœ… [DEBUG] Data loaded successfully:",{transcriptCount:u(e).length,hasStats:!!u(i),errorCount:u(r).length})}return{get transcripts(){return u(o)},get folderTree(){return u(s)},get loading(){return u(n)},get error(){return u(t)},get loadingErrors(){return u(r)},get loadingStats(){return u(i)},loadData:a}}function nn(e){const n=[];for(const t of e)t.type==="transcript"?n.push(t.originalTranscript):t.type==="folder"&&t.subRows&&n.push(...nn(t.subRows));return n}function jn(e,n,t){return e?e.map(r=>{if(r.type==="transcript"){const i=r.originalTranscript;return i?n.searchQuery&&!i.summary.toLowerCase().includes(n.searchQuery.toLowerCase())||!t(i)?null:r:(console.warn("âš ï¸ [DEBUG] Transcript node missing originalTranscript:",r),null)}else if(r.type==="folder"){const i=jn(r.subRows||[],n,t);return i.length>0?{...r,subRows:i}:null}return null}).filter(r=>r!==null):(console.warn("âš ï¸ [DEBUG] filterFolderTree received undefined nodes"),[])}var _s=P('<span class="font-mono text-xs font-semibold"> </span>'),ws=P('<a class="font-mono text-xs transition-colors"> </a>'),ys=P("<li><!></li>"),Ss=P('<div class="breadcrumbs text-sm"><ul><li><a href="/" class="font-mono text-xs">Home</a></li> <!></ul></div>'),xs=P('<p class="text-sm text-base-content/70 mt-1"> </p>'),Cs=P('<div class="mb-6"><!></div>'),Rs=P('<div class="text-center py-12"><div class="loading loading-spinner loading-lg"></div> <p class="mt-4 text-base-content/70"> </p></div>'),bs=P('<div class="text-center py-12"><div class="text-error"><svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12 mx-auto mb-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.5 0L4.268 19.5c-.77.833.192 2.5 1.732 2.5z"></path></svg> <p class="text-lg font-medium"> </p> <p class="text-sm"> </p></div></div>'),Fs=P('<div class="card bg-base-100 shadow-sm"><div class="card-body"><div class="flex justify-between items-center mb-4"><h2 class="text-xl font-bold"> </h2></div> <!></div></div>'),Es=P('<div class="container mx-auto p-4 space-y-6"><!> <div class="flex justify-between items-center"><div><h1 class="text-3xl font-bold">Petri Transcript Viewer</h1> <!></div> <div class="flex items-center gap-4"><!> <div class="badge badge-neutral"><!></div></div></div> <!> <!> <!></div>');function qs(e,n){Ue(n,!0);const[t,r]=Rn(),i=()=>Kt(xr,"$page",t),o=ms();let s=O(()=>i().url.searchParams.get("path")||""),a=O(()=>{if(!u(s))return[];const R=u(s).split("/").filter(Boolean),M=[];for(let N=0;N<R.length;N++){const ie=R[N],ee=R.slice(0,N+1).join("/");M.push({name:ie,path:ee})}return M});Jn(()=>(console.log("ðŸš€ [DEBUG] onMount() called, initializing stores..."),To(),console.log("ðŸ“Š [DEBUG] Stores initialized, calling loadData()..."),o.loadData("list",u(s)||void 0),console.log("âœ… [DEBUG] onMount() completed"),()=>{}));let c=_e("");Ge(()=>{console.log("ðŸ”„ [DEBUG] $effect() triggered for path change"),u(s)!==u(c)?(console.log("ðŸ“‚ [DEBUG] Path changed, reloading data:",{path:{from:u(c),to:u(s)}}),W(c,u(s),!0),typeof window<"u"?(console.log("ðŸŒ [DEBUG] Window available, calling loadData()..."),o.loadData("list",u(s)||void 0)):console.log("ðŸš« [DEBUG] Window not available, skipping loadData()")):console.log("âž¡ï¸ [DEBUG] Path unchanged:",{path:u(s)})});let l=O(()=>{console.log("ðŸ” [DEBUG] Computing allTranscripts...",{viewMode:Ne.value.viewMode,transcriptsLength:o.transcripts.length,folderTreeLength:o.folderTree.length});const R=Ne.value.viewMode==="list"?o.transcripts:nn(o.folderTree||[]);return console.log("ðŸ“Š [DEBUG] allTranscripts computed, length:",R.length),R}),f=O(()=>{console.log("ðŸ·ï¸ [DEBUG] Computing scoreTypes from",u(l).length,"transcripts...");const R=[...new Set(u(l).flatMap(M=>Object.keys(M.scores||{})))].sort();return console.log("ðŸ·ï¸ [DEBUG] scoreTypes computed:",R),R}),g=O(()=>{console.log("ðŸ“ [DEBUG] Collecting score descriptions from",u(l).length,"transcripts...");const R=Er(u(l));return console.log("ðŸ“ [DEBUG] scoreDescriptions collected:",Object.keys(R)),R}),d=O(()=>{console.log("ðŸ”§ [DEBUG] Creating filter function for expression:",Ce.value.filterExpression);const R=Bo(Ce.value.filterExpression);return console.log("ðŸ”§ [DEBUG] Filter function created"),R}),p=O(()=>o.transcripts.filter(R=>Ce.value.searchQuery&&!R.summary.toLowerCase().includes(Ce.value.searchQuery.toLowerCase())?!1:u(d)(R))),v=O(()=>jn(o.folderTree||[],Ce.value,u(d))),h=O(()=>Ne.value.viewMode==="list"?u(p).length:nn(u(v)).length),w=O(()=>u(l).length);function F(R){const M=R._filePath||"",ie=(u(s)?`${u(s)}/${M}`:M).split("/").map(ee=>encodeURIComponent(ee)).join("/");window.location.href=`/transcript/${ie}`}var x=Es();_r(R=>{K(()=>wr.title=u(s)?`${u(s)} - Petri Transcript Viewer`:"Petri Transcript Viewer")});var G=_(x);{var k=R=>{var M=Ss(),N=_(M),ie=C(_(N),2);Ee(ie,17,()=>u(a),ke,(ee,$,le)=>{var ue=ys(),ve=_(ue);{var ze=Ve=>{var y=_s(),b=_(y,!0);m(y),K(()=>H(b,u($).name)),S(Ve,y)},Me=Ve=>{var y=ws(),b=_(y,!0);m(y),K(Y=>{_t(y,"href",`/?path=${Y??""}`),_t(y,"title",`Navigate to ${u($).path??""}`),H(b,u($).name)},[()=>encodeURIComponent(u($).path)]),S(Ve,y)};L(ve,Ve=>{le===u(a).length-1?Ve(ze):Ve(Me,!1)})}m(ue),S(ee,ue)}),m(N),m(M),S(R,M)};L(G,R=>{u(a).length>0&&R(k)})}var E=C(G,2),I=_(E),V=C(_(I),2);{var X=R=>{var M=xs(),N=_(M);m(M),K(()=>H(N,`Viewing: ${u(s)??""}`)),S(R,M)};L(V,R=>{u(s)&&R(X)})}m(I);var q=C(I,2),ne=_(q);rs(ne,{});var Z=C(ne,2),pe=_(Z);{var B=R=>{var M=at("Loading...");S(R,M)},te=(R,M)=>{{var N=ee=>{var $=at("Error");S(ee,$)},ie=ee=>{var $=at();K(()=>H($,`${u(h)??""} / ${u(w)??""} transcripts`)),S(ee,$)};L(R,ee=>{o.error?ee(N):ee(ie,!1)},M)}};L(pe,R=>{o.loading?R(B):R(te,!1)})}m(Z),m(q),m(E);var re=C(E,2);ts(re,{get scoreTypes(){return u(f)},get filteredCount(){return u(h)},get totalCount(){return u(w)}});var we=C(re,2);{var T=R=>{var M=Cs(),N=_(M);ps(N,{get errors(){return o.loadingErrors},title:"File Loading Errors",showDetails:!1}),m(M),S(R,M)};L(we,R=>{o.loadingErrors&&o.loadingErrors.length>0&&R(T)})}var A=C(we,2);{var J=R=>{var M=Rs(),N=C(_(M),2),ie=_(N);m(N),m(M),K(()=>H(ie,`Loading ${Ne.value.viewMode==="list"?"transcripts":"folder tree"}...`)),S(R,M)},oe=(R,M)=>{{var N=ee=>{var $=bs(),le=_($),ue=C(_(le),2),ve=_(ue);m(ue);var ze=C(ue,2),Me=_(ze,!0);m(ze),m(le),m($),K(()=>{H(ve,`Failed to load ${Ne.value.viewMode==="list"?"transcripts":"folder tree"}`),H(Me,o.error)}),S(ee,$)},ie=ee=>{var $=Fs(),le=_($),ue=_(le),ve=_(ue),ze=_(ve,!0);m(ve),m(ue);var Me=C(ue,2);zo(Me,{get transcripts(){return u(p)},get folderTree(){return u(v)},get scoreTypes(){return u(f)},get scoreDescriptions(){return u(g)},get viewMode(){return Ne.value.viewMode},get currentPath(){return u(s)},onTranscriptClick:F}),m(le),m($),K(()=>H(ze,Ne.value.viewMode==="tree"?"Folder Tree":"Transcript List")),S(ee,$)};L(R,ee=>{o.error?ee(N):ee(ie,!1)},M)}};L(A,R=>{o.loading&&o.transcripts.length===0?R(J):R(oe,!1)})}m(x),S(e,x),je(),r()}export{qs as component};

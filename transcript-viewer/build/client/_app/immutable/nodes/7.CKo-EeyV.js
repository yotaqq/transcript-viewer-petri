import"../chunks/CWj6FrbW.js";import{o as pt,e as _t,f as d,s as a,H as q,t as m,i as c,j as mt,k as r,u as p,n as gt,r as s,m as B}from"../chunks/DDSnUQRm.js";import{s as o}from"../chunks/Cw2wGIIF.js";import{i as v}from"../chunks/Cufvb6Zw.js";import{c as bt}from"../chunks/B2wIhe_H.js";async function ut(b,l,g){p(l,"Loading...");try{const t=await g.loadMetadata();p(l,t?`Success: ${t.transcript_id}`:"Failed: null result",!0)}catch(t){p(l,`Error: ${t instanceof Error?t.message:"Unknown error"}`)}}async function xt(b,l,g){p(l,"Loading...");try{const t=await g.loadTranscript();p(l,t?`Success: ${t.id} (${t.model})`:"Failed: null result",!0)}catch(t){p(l,`Error: ${t instanceof Error?t.message:"Unknown error"}`)}}var ft=d('<span class="loading loading-spinner loading-sm ml-2"></span>'),ht=d('<p class="text-error mt-2"> </p>'),$t=d('<span class="loading loading-spinner loading-sm ml-2"></span>'),Lt=d('<p class="text-error mt-2"> </p>'),Tt=d('<div class="card bg-base-200 p-4"><h2 class="text-lg font-semibold mb-2">Loaded Metadata</h2> <pre class="text-xs overflow-auto"> </pre></div>'),yt=d('<div class="card bg-base-200 p-4"><h2 class="text-lg font-semibold mb-2">Loaded Transcript Summary</h2> <ul class="text-sm space-y-1"><li><strong>ID:</strong> </li> <li><strong>Model:</strong> </li> <li><strong>Split:</strong> </li> <li><strong>Summary:</strong> </li> <li><strong>Concerning Score:</strong> </li> <li><strong>Event Count:</strong> </li></ul></div>'),Et=d('<div class="p-8"><div class="breadcrumbs text-sm mb-4"><ul><li><a href="/">Home</a></li> <li><a href="/demo">Demo</a></li> <li>API Test</li></ul></div> <h1 class="text-2xl font-bold mb-6">Client Utils API Test</h1> <p class="mb-4 text-base-content/70">Testing the client-side transcript loader utilities from the new organized structure.</p> <div class="space-y-4"><div class="card bg-base-200 p-4"><h2 class="text-lg font-semibold mb-2">Test File Path</h2> <code class="text-sm"></code> <p class="text-xs text-base-content/60 mt-2">Using: <code>$lib/client/utils/transcript.svelte</code></p></div> <div class="card bg-base-200 p-4"><h2 class="text-lg font-semibold mb-2">Metadata Loading Test</h2> <p class="mb-2"> </p> <button class="btn btn-primary">Test Load Metadata</button> <!> <!></div> <div class="card bg-base-200 p-4"><h2 class="text-lg font-semibold mb-2">Full Transcript Loading Test</h2> <p class="mb-2"> </p> <button class="btn btn-primary">Test Load Transcript</button> <!> <!></div> <div class="card bg-base-200 p-4"><h2 class="text-lg font-semibold mb-2">Loader State</h2> <ul class="text-sm space-y-1"><li> </li> <li> </li> <li> </li> <li> </li></ul></div> <!> <!></div></div>');function Ht(b,l){_t(l,!0);const t=bt("transcripts/test/transcript_2025-07-30_19-19-00_af5163dd.json");let P=q("Not started"),C=q("Not started");var u=Et(),I=a(r(u),6),x=r(I),G=a(r(x),2);G.textContent="transcripts/test/transcript_2025-07-30_19-19-00_af5163dd.json",gt(2),s(x);var f=a(x,2),h=a(r(f),2),K=r(h);s(h);var U=a(h,2);U.__click=[ut,P,t];var j=a(U,2);{var Q=e=>{var i=ft();c(e,i)};v(j,e=>{t.metadataLoading&&e(Q)})}var R=a(j,2);{var V=e=>{var i=ht(),n=r(i,!0);s(i),m(()=>o(n,t.metadataError)),c(e,i)};v(R,e=>{t.metadataError&&e(V)})}s(f);var $=a(f,2),L=a(r($),2),W=r(L);s(L);var N=a(L,2);N.__click=[xt,C,t];var A=a(N,2);{var X=e=>{var i=$t();c(e,i)};v(A,e=>{t.transcriptLoading&&e(X)})}var Y=a(A,2);{var Z=e=>{var i=Lt(),n=r(i,!0);s(i),m(()=>o(n,t.transcriptError)),c(e,i)};v(Y,e=>{t.transcriptError&&e(Z)})}s($);var T=a($,2),D=a(r(T),2),y=r(D),tt=r(y);s(y);var E=a(y,2),at=r(E);s(E);var S=a(E,2),rt=r(S);s(S);var z=a(S,2),st=r(z);s(z),s(D),s(T);var J=a(T,2);{var et=e=>{var i=Tt(),n=a(r(i),2),_=r(n,!0);s(n),s(i),m(M=>o(_,M),[()=>JSON.stringify(t.metadata,null,2)]),c(e,i)};v(J,e=>{t.metadata&&e(et)})}var it=a(J,2);{var ot=e=>{var i=yt(),n=a(r(i),2),_=r(n),M=a(r(_));s(_);var k=a(_,2),lt=a(r(k));s(k);var w=a(k,2),nt=a(r(w));s(w);var F=a(w,2),ct=a(r(F));s(F);var H=a(F,2),dt=a(r(H));s(H);var O=a(H,2),vt=a(r(O));s(O),s(n),s(i),m(()=>{o(M,` ${t.transcript.id??""}`),o(lt,` ${t.transcript.model??""}`),o(nt,` ${t.transcript.split??""}`),o(ct,` ${t.transcript.summary??""}`),o(dt,` ${t.transcript.concerningScore??""}`),o(vt,` ${t.transcript.transcript.events.length??""}`)}),c(e,i)};v(it,e=>{t.transcript&&e(ot)})}s(I),s(u),m(()=>{o(K,`Status: ${B(P)??""}`),o(W,`Status: ${B(C)??""}`),o(tt,`Has Metadata: ${t.hasMetadata??""}`),o(at,`Has Transcript: ${t.hasTranscript??""}`),o(rt,`Is Loading: ${t.isLoading??""}`),o(st,`Has Error: ${t.hasError??""}`)}),c(b,u),mt()}pt(["click"]);export{Ht as component};
